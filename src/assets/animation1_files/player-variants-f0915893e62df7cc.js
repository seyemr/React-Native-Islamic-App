(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5020],{84042:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/animation/[id]/player-variants",function(){return r(31656)}])},26636:function(e,t,r){"use strict";r.d(t,{o:function(){return a}});var n=r(97458);const a=r(52983).forwardRef(((e,t)=>{let{children:r,contentWrapperCssClasses:a="flex-grow overflow-hidden",headerControl:o,headerWrapperCssClasses:s="bg-white h-16 flex items-center sm:px-6 px-2 border-b border-gray-100 flex-shrink-0",id:i}=e;return(0,n.jsxs)("div",{id:i,ref:t,"data-onboarding-watch":"create_menu_new_button",className:"flex overflow-y-auto absolute inset-0 flex-col w-full",children:[o&&(0,n.jsx)("div",{className:s,children:o}),(0,n.jsx)("div",{className:a,children:r})]})}));a.displayName="PageScaffold"},85860:function(e,t,r){"use strict";r.r(t),r.d(t,{BackgroundColorControl:function(){return d}});var n=r(97458),a=r(52983),o=r(80794),s=r(71874),i=r(35463),l=r(67440),c=r(63005);const d=e=>{let{animationBackgroundColor:t,canUpdate:r=!0,fileId:d,hideUpdateButton:u,hoverBackgroundColorClass:h,hoverIconColorClass:f,onChange:m,placement:v,portalRoot:g}=e;const y=(0,a.useRef)(null),x=(0,a.useRef)(t),[p,w]=(0,o.Db)(c.IT),C=(0,a.useCallback)((async()=>{try{x.current!==t&&(x.current=t,await w({id:d,backgroundColor:t}))}catch(e){throw new Error(e)}}),[t,d,x,w]),[b,k]=(0,a.useState)(!1),j=(0,a.useCallback)((e=>{m(e)}),[m]),A=(0,a.useCallback)((()=>{j(x.current)}),[j]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.n,{ref:y,icon:"background-color",title:"Background color",onClick:()=>k(!0),hoverBackgroundColorClass:h,hoverIconColorClass:f,placement:v}),b&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.J,{show:!0,container:g,offsetX:10,placement:"left-start",onClose:()=>k(!1),triggerElementRef:y,content:(0,n.jsx)(l.L,{hideUpdateButton:u,buttonDisabled:x.current===t,showButtons:r,submitColorChange:C,resetColorChange:A,isLoading:p.fetching,animationBackgroundColor:t,handleColorChange:j})})})]})};t.default=d},67440:function(e,t,r){"use strict";r.d(t,{L:function(){return l}});var n=r(97458),a=(r(52983),r(71800)),o=r(51031),s=r(37091);const i=e=>{let{backgroundColor:t,onChange:r}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"mb-2 font-bold text-gray-900",children:"Background color"}),(0,n.jsxs)("div",{className:"flex w-full p-2 rounded-md bg-blue-50",children:[(0,n.jsx)(s.J,{name:"info",className:"flex-none text-blue-500",marginRight:!0,medium:!0}),(0,n.jsx)("span",{className:"text-sm text-gray-900",children:"The background color is for previewing only. Changing it will not affect the animation file."})]}),(0,n.jsx)("div",{className:"flex justify-between",children:(0,n.jsx)("div",{className:"mt-2 mb-1 text-sm text-gray-900",children:"Enter hex or select"})}),(0,n.jsx)("div",{children:(0,n.jsx)(o.ZE,{className:"text-sm rounded-md lf-input bg-gray-50 dark:border-transparent dark:bg-gray-700 dark:placeholder-gray-400 dark:focus:outline-none dark:focus:bg-white dark:focus:text-gray-900 dark:focus:placeholder-gray-500",color:t,onChange:r})}),(0,n.jsx)("div",{className:"mt-4 color-picker",children:(0,n.jsx)(o.gW,{color:t,onChange:r})})]})},l=e=>{let{animationBackgroundColor:t,buttonDisabled:r,handleColorChange:o=(e=>null),isLoading:s,resetColorChange:l=(()=>null),showButtons:c,hideUpdateButton:d,submitColorChange:u=(()=>null)}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)(i,{backgroundColor:t,onChange:o}),c&&(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(a.z,{fluid:!0,disabled:r,text:"Reset",variant:"secondary",onClick:l}),!d&&(0,n.jsx)(a.z,{showLoader:s,disabled:r,fluid:!0,text:"Update",variant:"primary",onClick:u})]})]})}},9711:function(e,t,r){"use strict";r.d(t,{s:function(){return s}});var n=r(97458),a=r(83849),o=r.n(a);r(52983);const s=e=>{let{className:t,max:r,onChange:a,value:s}=e;const i=s/r*100,l=e=>{const t=parseFloat(e.target.value),n=Math.trunc(t/100*r);a(n)},c={backgroundImage:"-webkit-gradient(linear, left top, right top, color-stop(".concat(i,"%, #00DDB3), color-stop(").concat(i,"%, #D9E0E6))"),width:"100%"};return(0,n.jsx)("form",{className:"inline-flex flex-grow",noValidate:!0,children:(0,n.jsx)("input",{type:"range",className:o()("player-seeker",t),onChange:l,onInput:l,value:i,style:c})})}},26507:function(e,t,r){"use strict";r.d(t,{L:function(){return f}});var n=r(97458),a=r(83849),o=r.n(a),s=r(52983),i=r(75800),l=r(59598),c=r(10103),d=r(23048),u=r(22455),h=r(4876);const f=e=>{let{className:t="",horizontalLayout:r=!1,hoverBackgroundColorClass:a,hoverIconColorClass:f,placement:m="left",rounded:v=!0,shadow:g=!0}=e;const[y,x]=(0,i.useRecoilState)(l.EG),p=.25,w=(0,s.useCallback)((()=>{x((e=>e+p))}),[x]),C=(0,s.useCallback)((()=>{y>p&&x(y-p)}),[y,x]),b=(0,s.useCallback)((()=>{x(1)}),[x]),k=(0,s.useMemo)((()=>(0,n.jsx)(u.z,{keys:["+"],metaKey:!0})),[]),j=(0,s.useMemo)((()=>(0,n.jsx)(u.z,{keys:["-"],metaKey:!0})),[]),A=(0,s.useMemo)((()=>(0,n.jsx)(u.z,{keys:["0"],metaKey:!0})),[]);return(0,h.Z)({key:"+",action:w,dependencies:[y],metaKeyRequired:!0,takesPrecedence:!0}),(0,h.Z)({key:"-",action:C,dependencies:[y],metaKeyRequired:!0,takesPrecedence:!0}),(0,h.Z)({key:"0",action:b,dependencies:[y],metaKeyRequired:!0,takesPrecedence:!0}),(0,n.jsxs)("div",{className:o()("flex  bg-white",{"flex-col divide-y border-gray-100":!r,"items-center":r,"rounded-lg":v,"shadow-sm":g,"space-x-1":r},t),children:[(0,n.jsx)(d.u,{title:"Zoom in",placement:m,shortcut:k,children:(0,n.jsx)(c.h,{name:"plus",onClick:w,darker:!0,rounded:!0,backgroundColor:"white",hoverBackgroundClass:a||"hover:bg-gray-100",hoverIconClass:o()(f||"hover:text-teal-500","!size-8 !rounded-t-lg !rounded-b-none"),noFocus:!0})}),(0,n.jsx)(d.u,{title:"Reset zoom",placement:m,shortcut:A,children:(0,n.jsxs)("div",{className:"flex items-center justify-center flex-shrink-0 h-12 text-gray-900 bg-white font-lf-semi-bold",style:{fontSize:"8px"},onClick:b,onKeyDown:()=>{},children:[100*y,"%"]})}),(0,n.jsx)(d.u,{title:"Zoom out",placement:m,shortcut:j,children:(0,n.jsx)(c.h,{name:"minus",onClick:C,darker:!0,rounded:!0,backgroundColor:"white",hoverBackgroundClass:o()(a||"hover:bg-gray-100","!size-8 !rounded-t-none !rounded-b-lg"),hoverIconClass:f||"hover:text-teal-500",noFocus:!0})})]})}},35463:function(e,t,r){"use strict";r.d(t,{n:function(){return c}});var n=r(97458),a=r(83849),o=r.n(a),s=r(52983),i=r(10103),l=r(23048);const c=(0,s.forwardRef)(((e,t)=>{let{compact:r=!1,disabled:a,hoverBackgroundColorClass:c,hoverIconColorClass:d,icon:u,iconColorClass:h,onClick:f,placement:m="left",shortcut:v,title:g}=e;const y=(0,s.useCallback)((()=>{f&&f()}),[f]);return(0,n.jsx)(l.u,{title:g,placement:m,shortcut:v,children:(0,n.jsx)(i.h,{medium:r,ref:t,name:u,onClick:y,rounded:!0,backgroundColor:"white",iconClass:h,noFocus:!0,hoverBackgroundClass:o()(c||"hover:bg-gray-100","!size-8 !rounded-lg"),hoverIconClass:d||"",darker:!0,disabled:a})})}));c.displayName="FloatingControl"},19461:function(e,t,r){"use strict";r.d(t,{F:function(){return n}});const n=[{value:"last-updated",query:JSON.stringify({updatedAt:"DESC"})},{value:"newest",query:JSON.stringify({createdAt:"DESC"})},{value:"oldest",query:JSON.stringify({createdAt:"ASC"})},{value:"a-z",query:JSON.stringify({name:"ASC"})}]},31662:function(e,t,r){"use strict";r.d(t,{a:function(){return a}});var n=r(70705);const a=e=>{let{scopes:t}=e;const r=()=>t.includes(n.GN.FULL_ACCESS),a=()=>r()||t.includes(n.GN.DOWNLOAD);return{canView:()=>r()||a()||t.includes(n.GN.VIEW),canFullAccess:r,canDownload:a}}},31656:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Y}});var n=r(97458),a=r(96734),o=r(88360),s=r(34723),i=r(83849),l=r.n(i),c=r(79120),d=r(69238),u=r(54542),h=r.n(u),f=r(52983),m=r(75296),v=r(75800),g=r(80794),y=r(40707);const x=(0,f.createContext)(void 0),p=e=>{let{children:t}=e;const[r,a]=(0,f.useState)([]),o=(0,f.useCallback)((()=>{r.forEach((e=>e.play()))}),[r]),s=(0,f.useCallback)((()=>{r.forEach((e=>e.pause()))}),[r]),i=(0,f.useCallback)((()=>{r.forEach((e=>e.stop()))}),[r]),l={playAll:o,pauseAll:s,seekAll:(0,f.useCallback)((e=>{r.forEach((t=>{try{t.seek(e)}catch(r){console.error("Fail to seek frame ".concat(e," of ").concat(t.renderer," player: "),r)}}))}),[r]),setLoopAll:(0,f.useCallback)((e=>{r.forEach((t=>t.setLooping(e)))}),[r]),setSpeedAll:(0,f.useCallback)((e=>{r.forEach((t=>t.setSpeed(e)))}),[r]),registerPlayer:e=>{e&&a((t=>[...t,e]))},unregisterPlayer:e=>{a((t=>t.filter((t=>t!==e))))},players:r,stopAll:i};return(0,n.jsx)(x.Provider,{value:l,children:t})},w=()=>{const e=(0,f.useContext)(x);if(!e)throw new Error("usePlayerControls must be used within a PlayerControlsProvider");return e};var C=r(9711),b=r(10103),k=r(22455),j=r(23048),A=r(4876);const N=()=>{var e,t;const{pauseAll:r,playAll:a,players:o,seekAll:s,setLoopAll:i,setSpeedAll:l,stopAll:c}=w(),[,d]=(0,f.useState)(1),[u,h]=(0,f.useState)(!0),[m,v]=(0,f.useState)(0),[g,y]=(0,f.useState)(0),x=(0,f.useMemo)((()=>[.5,1,1.5,2,2.5]),[]),[p,N]=(0,f.useState)(!0),S=(0,f.useCallback)((()=>{const e=p;i(!e),N(!e)}),[p,i]),[E,L]=(0,f.useState)(x[1]),B=(0,f.useCallback)((()=>{const e=x.indexOf(E);-1!==e&&e<x.length-1?(L(x[e+1]),l(x[e+1])):(L(x[0]),l(x[0]))}),[E,x,l]),D=(0,f.useCallback)((()=>{u?(d(1),r(),h(!1)):(s(g),a(),h(!0))}),[r,a,u,g,s]),I=(0,f.useCallback)((e=>{r(),h(!1),s(e)}),[r,s,h]),P=(0,f.useMemo)((()=>(0,n.jsx)(k.z,{keys:["space"]})),[]);return(0,A.Z)({key:" ",action:D,takesPrecedence:!0,dependencies:[u]}),(0,A.Z)({key:"ArrowRight",action:()=>{Number.isInteger(g)&&Math.floor(g)<m&&(r(),s(g+1))},dependencies:[null===(e=o[0])||void 0===e?void 0:e.totalFrames,g]}),(0,A.Z)({key:"ArrowLeft",action:()=>{Number.isInteger(g)&&Math.floor(g)>0&&(r(),s(g-1))},dependencies:[null===(t=o[0])||void 0===t?void 0:t.totalFrames,g]}),(0,f.useEffect)((()=>{var e,t;null===(e=o[0])||void 0===e||e.addEventListener("FRAME",(e=>{var t;!m&&o[0]&&v(null===(t=o[0])||void 0===t?void 0:t.totalFrames);y(e.frame)})),null===(t=o[0])||void 0===t||t.addEventListener("COMPLETE",(()=>{p||(h(!1),c())}))}),[p,o,c,m]),(0,f.useEffect)((()=>{o[0]&&h("Playing"===o[0].state)}),[o]),(0,n.jsxs)("div",{className:"flex items-center w-full space-x-4",children:[(0,n.jsx)(j.u,{placement:"top",title:u?"Pause":"Play",shortcut:P,children:(0,n.jsx)(b.h,{name:u?"pause":"play",rounded:!0,hoverIconClass:"hover:text-gray-600",iconClass:"text-gray-600",hoverBackgroundClass:"bg-transparent",noFocus:!0,onClick:D})}),(0,n.jsxs)("div",{className:"flex items-center w-full h-full",children:[(0,n.jsx)(C.s,{max:m||1,value:g||0,onChange:I}),(0,n.jsx)("div",{className:"absolute bottom-1.5",children:(0,n.jsxs)("span",{className:"px-2 py-0.5 text-gray-900 bg-gray-100 rounded-lg text-xxs",children:["# ",(0,n.jsx)("span",{style:{minWidth:"24px",display:"inline-block"},children:g})," /"," ",(0,n.jsx)("span",{style:{minWidth:"24px",display:"inline-block"},children:m})]})})]}),(0,n.jsxs)("div",{className:"flex space-x-2",children:[(0,n.jsx)(b.h,{name:!0===p?"loop":"no-loop",rounded:!0,hoverIconClass:"hover:text-gray-600",hoverBackgroundClass:"bg-gray-100",noFocus:!0,onClick:S,iconClass:"text-gray-500",backgroundClass:"bg-gray-100"}),(0,n.jsxs)("button",{type:"button",className:"flex items-center justify-center w-10 h-10 text-xs text-gray-900 bg-gray-100 rounded-md hover:text-gray-600 focus:outline-none",onClick:B,children:[E,"x"]})]})]})};var S=r(18885),E=r(73513),L=r(37091);const B=e=>{let{currentValue:t,onSelect:r,options:a}=e;return(0,n.jsxs)(E.f,{children:[(0,n.jsxs)(E.f.Trigger,{type:"custom",className:"flex items-center px-3 py-1 bg-white border border-gray-100 rounded-md cursor-pointer",children:[(0,n.jsx)("div",{className:"text-sm text-gray-900",children:(0,n.jsx)("span",{className:"mr-2",children:t})}),(0,n.jsx)("div",{className:"flex items-center text-gray-600",children:(0,n.jsx)(L.J,{name:"chevron-down",marginLeft:!0})})]}),(0,n.jsx)(E.f.Content,{className:"w-[30px] max-h-[160px] overflow-y-auto",side:"bottom",align:"start",children:null==a?void 0:a.map((e=>(0,n.jsx)(E.f.Item,{onSelect:()=>r(e),children:(0,n.jsx)("span",{className:"mr-2",children:e})},e)))})]})};var D=r(41793),I=r(9627),P=r(84952),_=r(59598);const F=f.createContext(void 0),R=e=>{let{dotLottieUrl:t,loading:r,release:a,size:o,version:s}=e;var i;const[c,d]=f.useState(null),[u,h]=f.useState(!1),[m,g]=f.useState(!1),y=f.useRef(null),{pauseAll:x,playAll:p,players:C,registerPlayer:b,seekAll:k,unregisterPlayer:j}=w(),{player:A}=(0,I.n)({animationSrc:null!=c?c:"",autoPlay:!0,containerRef:y,renderer:a,version:s,loop:!0,initialFrame:(null===(i=C[0])||void 0===i?void 0:i.currentFrame)||0}),N=(0,f.useCallback)((e=>{if(!m&&("Playing"===(null==A?void 0:A.state)||"Paused"===(null==A?void 0:A.state))&&(null==e?void 0:e.frame)>50&&C[0]&&C.length>1){g(!0);const e=C[0].state;x(),k(C[0].currentFrame),"Playing"===e?p():x()}}),[A,C,m,p,k,x]);(0,f.useEffect)((()=>(null==A||A.addEventListener("FRAME",N),()=>{null==A||A.removeEventListener("FRAME",N)})),[N]),(0,f.useEffect)((()=>{g(!1)}),[a,s]),(e=>{let{player:t,registerPlayer:r,unregisterPlayer:n}=e;(0,f.useEffect)((()=>(t&&r(t),()=>{n(t)})),[t])})({player:A,registerPlayer:b,unregisterPlayer:j});const S=(0,f.useCallback)((async e=>{const t=await D.J2.fromURL(e),r=await t.getAnimationAtIndex(0),n=await(null==r?void 0:r.toJSON({inlineAssets:!0})),a=n?JSON.stringify(n):null;d(a)}),[]);(0,f.useEffect)((()=>{if(t&&!u&&!c){h(!0);(async()=>{await S(t)})()}}),[t,S,c,u]);const[E]=(0,v.useRecoilState)(_.EG),L=o?"".concat(parseFloat(o)*E,"px"):"100%",B=o?"".concat(parseFloat(o)*E,"px"):"100%";return(0,n.jsxs)(F.Provider,{value:A,children:[r&&(0,n.jsx)(P.a,{className:"absolute inset-0",type:"spinner"}),(0,n.jsx)("div",{ref:y,style:{height:B,width:L},className:l()({"opacity-0":r})})]})},J=e=>{let{defaultRelease:t="",index:r,layout:a,url:s}=e;var i,c;const d=S.y,[u,h]=(0,f.useState)("");var m;const[v,g]=(0,f.useState)(null!==(m=null===(i=d[u])||void 0===i?void 0:i.versions[0])&&void 0!==m?m:void 0),{players:y}=w(),[x,p]=f.useState(!0),C=(0,f.useCallback)((e=>{var t;p(!0),h(e),g(null===(t=d[e])||void 0===t?void 0:t.versions[0]),(0,o.Z9)(new o.Fr({player:e}))}),[d]),b=(0,f.useCallback)((e=>{p(!0),g(e),(0,o.Z9)(new o.js({player:u,version:v||""}))}),[u,v]),k=(0,f.useCallback)((()=>{if(t)return t;const e=y.map((e=>e.renderer.toString()));return Object.keys(d).find((t=>!e.includes(t)))}),[y,d,t]);(0,f.useEffect)((()=>{const e=k();var t;e&&!u&&(C(e),g(null===(t=d[e])||void 0===t?void 0:t.versions[0]),(0,o.Z9)(new o.Fr({player:e})))}),[u,k,C]);const j=(0,f.useMemo)((()=>(e=>{switch(e){case 1:default:return"500px";case 2:return"300px";case 3:case 4:return"250px"}})(a)),[a]);return(0,f.useEffect)((()=>{x&&setTimeout((()=>{p(!1)}),1500)}),[x]),(0,n.jsxs)("div",{className:l()("relative flex items-center justify-center w-full h-full overflow-auto border-r border-gray-100",{"border-b":4===a&&0===r||4===a&&1===r}),children:[(0,n.jsxs)("div",{className:"absolute top-0 left-0 flex mt-4 ml-4 space-x-2",children:[(0,n.jsx)(B,{options:Object.keys(S.y),currentValue:u,onSelect:C}),(0,n.jsx)(B,{options:null===(c=d[u])||void 0===c?void 0:c.versions,currentValue:v,onSelect:b})]}),s&&(0,n.jsx)(R,{loading:x,dotLottieUrl:s,release:u,version:v,size:j})]})};var M=r(88510),T=r(26636),O=r(85860),Z=r(26507),q=r(8824),z=r(19461),U=r(37095),V=r(31662),W=r(186),K=r(21330),H=r(49939),G=r(63005),X=r(5775);const Q=()=>{var e,t,r,i,u;const[x,w]=(0,f.useState)(),C=(0,q.p)(),[k,S]=(0,v.useRecoilState)(_.sI),E=(0,v.useSetRecoilState)(X.E4),[B,D]=(0,f.useState)(!1),[I,P]=(0,f.useState)(!1),F=(0,v.useSetRecoilState)(X.qx),{canFullAccess:R}=(0,V.a)({scopes:(null==k?void 0:k.animationPermissionScopes)||[]}),[M,Q]=(0,f.useState)(!1),[Y,$]=(0,f.useState)(!1),ee=(0,a.SS)(s.AD.ENABLE_ANIMATION_NAVIGATION_SHORTCUTS),te=(0,d.useRouter)(),{id:re}=te.query,{activeWorkspaceId:ne,setActiveWorkspace:ae,workspaces:oe}=(0,H.cF)(),[se,ie]=(0,f.useState)("#f8fafc"),[le]=(0,W._)("wf:sort-by","last-modified"),ce=(0,f.useMemo)((()=>{var e;return null===(e=z.F.find((e=>{let{value:t}=e;return t===le})))||void 0===e?void 0:e.query}),[le]),de=(0,f.useRef)(null),ue=(0,f.useCallback)((e=>{try{void 0!==(0,c.H3)(e)&&ie(e)}catch(e){ie("#f8fafc")}}),[]),[he]=(0,g.aM)({query:G.wP,variables:{id:re},pause:!re}),[fe]=(0,g.aM)({query:G.xQ,variables:{id:re,sort:ce,folderId:null===(t=he.data)||void 0===t||null===(e=t.file.folder)||void 0===e?void 0:e.id},pause:!re||!he.data||!ee.on});(0,A.Z)({key:"k",action:()=>{var e;if(!ee.off)if(null===(e=fe.data)||void 0===e?void 0:e.fileAboveAndBelowId.nextAnimation)te.query.id=fe.data.fileAboveAndBelowId.nextAnimation,te.push({pathname:te.pathname,query:te.query}),$(!1);else if(!M){const e=(0,n.jsx)("div",{children:"No more animations to go to"});null==C||C.pushCustom(e,1e3,"!bg-gray-900","text-white"),Q(!0)}},dependencies:[fe,ee.off],takesPrecedence:!0}),(0,A.Z)({key:"j",action:()=>{var e;if(!ee.off)if(null===(e=fe.data)||void 0===e?void 0:e.fileAboveAndBelowId.prevAnimation)te.query.id=fe.data.fileAboveAndBelowId.prevAnimation,te.push({pathname:te.pathname,query:te.query}),Q(!1);else if(!Y){const e=(0,n.jsx)("div",{children:"No more animations to go to"});null==C||C.pushCustom(e,1e3,"!bg-gray-900","text-white"),$(!0)}},dependencies:[fe,ee.off],takesPrecedence:!0}),(0,f.useEffect)((()=>(he.fetching&&F(!0),he.fetching||F(!1),()=>{})),[he]),(0,f.useEffect)((()=>{var e;if(he.data&&!he.fetching){w(he.data.file.fileObject.url),S(he.data.file),E({type:"project",id:he.data.file.project.id}),ue(he.data.file.backgroundColor);const e=he.data.file.project.workspaceId,t=oe.some((e=>{let{id:t}=e;var r;return t===(null===(r=he.data)||void 0===r?void 0:r.file.project.workspaceId)}));e&&t&&e!==ne&&ae(e,!1)}else if(he.error)throw he.error.toString().includes("Access denied")?new y.J:new Error(he.error.message);if(null===(e=he.data)||void 0===e?void 0:e.file.upgradeRequired)throw new U.K}),[he,S,E,ue,oe,ne,ae]),(0,f.useEffect)((()=>{var e;(null===(e=he.data)||void 0===e?void 0:e.file.id)&&(0,o.Z9)(new o.Aj({fileId:he.data.file.id,projectId:he.data.file.project.id,workspaceId:he.data.file.project.workspaceId,url:window.location.href}))}),[null===(r=he.data)||void 0===r?void 0:r.file.id,null===(i=he.data)||void 0===i?void 0:i.file.project.id,null===(u=he.data)||void 0===u?void 0:u.file.project.workspaceId]);const[me,ve]=(0,f.useState)(2),ge=(0,f.useCallback)((()=>{D(!B)}),[B,D]),ye=(0,m.r)(),xe=(0,f.useCallback)((()=>{I?(P(!1),ye.exit()):(P(!0),ye.enter())}),[ye,I]),pe=(0,f.useCallback)(((e,t)=>{t===ye&&P(!!e)}),[ye]),we=(0,f.useCallback)((()=>{(0,o.Z9)(new o.Rd("button","close player variants")),te.push({pathname:"/animation/[id]",query:te.query})}),[te]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h(),{children:(0,n.jsx)("title",{children:"Animation - LottieFiles Platform"})}),(0,n.jsx)(T.o,{headerControl:(0,n.jsxs)("div",{className:"flex justify-between w-full",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(L.J,{name:"multi-player",marginRight:!0}),(0,n.jsx)("span",{className:"text-lg font-bold",children:"Multi-player test"})]}),(0,n.jsx)(b.h,{icon:"cross",onClick:we})]}),headerWrapperCssClasses:"bg-white h-16 flex items-center p-4 border-b border-gray-100 flex-shrink-0",contentWrapperCssClasses:"flex overflow-hidden flex-grow",children:k&&(0,n.jsx)(K.s,{features:k.features,children:(0,n.jsx)(p,{children:(0,n.jsx)(m.I,{className:l()({"flex flex-grow":!0}),handle:ye,onChange:pe,children:(0,n.jsx)("div",{className:l()({"relative flex flex-grow ":!0}),children:(0,n.jsxs)("div",{className:"relative flex w-full h-full",children:[(0,n.jsx)("div",{className:l()({"absolute inset-0 flex flex-grow ":!0,"transparency-grid":B}),style:{background:se}}),(0,n.jsxs)("div",{className:l()("relative flex flex-col w-full h-full overflow-auto ",{"":!I}),children:[(0,n.jsx)("div",{className:l()("w-full h-full grid",{"grid-cols-1":1===me,"grid-cols-2":2===me,"grid-cols-3":3===me,"grid-rows-2 grid-cols-2":4===me}),children:(e=>{const t=[],r=["lottie-web","skottie","rlottie","thorvg"];for(let n=0;n<e;n++)t.push({index:n,defaultRelease:r[n]||""});return t})(me).map((e=>{let{defaultRelease:t,index:r}=e;return(0,n.jsx)("div",{children:(0,n.jsx)(J,{url:x,index:r,defaultRelease:t,layout:me})},r)}))}),(0,n.jsxs)("div",{className:"flex justify-center items-center w-full h-20 grid-cols-12 bg-white border-t border-gray-100 gap-x-16 px-10 pt-4 pb-3",children:[(0,n.jsxs)("div",{className:"flex items-center justify-center",children:[(0,n.jsx)(b.h,{name:"grid-1",rounded:!0,backgroundColor:"white",iconClass:1===me?"text-teal-300":"text-gray-600",noFocus:!0,hoverBackgroundClass:"hover:bg-gray-50",hoverIconClass:"hover:text-gray-900",darker:!0,onClick:()=>{ve(1),(0,o.Z9)(new o.Rd("button","player variants layout 1"))}}),(0,n.jsx)(b.h,{name:"grid-2",rounded:!0,backgroundColor:"white",iconClass:2===me?"text-teal-300":"text-gray-600",noFocus:!0,hoverBackgroundClass:"hover:bg-gray-50",hoverIconClass:"hover:text-gray-900",darker:!0,onClick:()=>{ve(2),(0,o.Z9)(new o.Rd("button","player variants layout 2"))}}),(0,n.jsx)(b.h,{name:"grid-3",rounded:!0,backgroundColor:"white",iconClass:3===me?"text-teal-300":"text-gray-600",noFocus:!0,hoverBackgroundClass:"hover:bg-gray-50",hoverIconClass:"hover:text-gray-900",darker:!0,onClick:()=>{ve(3),(0,o.Z9)(new o.Rd("button","player variants layout 3"))}}),(0,n.jsx)(b.h,{name:"grid-4",rounded:!0,backgroundColor:"white",iconClass:4===me?"text-teal-300":"text-gray-600",noFocus:!0,hoverBackgroundClass:"hover:bg-gray-50",hoverIconClass:"hover:text-gray-900",darker:!0,onClick:()=>{ve(4),(0,o.Z9)(new o.Rd("button","player variants layout 4"))}})]}),(0,n.jsx)("div",{className:"flex justify-center w-full min-w-[320px]",children:(0,n.jsx)(N,{})}),(0,n.jsxs)("div",{className:"flex items-center justify-center",children:[(0,n.jsx)(j.u,{title:"Full screen",placement:"top",children:(0,n.jsx)(b.h,{name:"full-screen",rounded:!0,backgroundColor:"white",iconClass:I?"text-teal-300":"text-gray-600",noFocus:!0,hoverBackgroundClass:"hover:bg-gray-50",hoverIconClass:"hover:text-gray-900",darker:!0,onClick:xe})}),(0,n.jsx)(j.u,{title:"Transparency grid",placement:"top",children:(0,n.jsx)(b.h,{name:"grid",rounded:!0,backgroundColor:"white",onClick:ge,iconClass:B?"text-teal-300":"text-gray-600",noFocus:!0,hoverBackgroundClass:"hover:bg-gray-50",hoverIconClass:"hover:text-gray-900",darker:!0})}),(0,n.jsx)(O.default,{hideUpdateButton:!0,placement:"top",animationBackgroundColor:se,canUpdate:R(),onChange:e=>{ie(e)},fileId:k.id,portalRoot:de.current,hoverBackgroundColorClass:"hover:bg-gray-50",hoverIconColorClass:"hover:text-gray-900"}),(0,n.jsx)("div",{className:"h-12 mx-4 border-r border-gray-100"}),(0,n.jsx)(Z.L,{horizontalLayout:!0,shadow:!1,placement:"top",hoverBackgroundColorClass:"hover:bg-gray-50",hoverIconColorClass:"hover:text-gray-900",className:"gap-x-5"})]})]})]})]})})})})})})]})};Q.getLayout=e=>(0,n.jsx)(M.By,{showTopNav:!1,compactSidebar:!0,showSidebar:!1,children:e});var Y=Q},21330:function(e,t,r){"use strict";r.d(t,{s:function(){return i},w:function(){return l}});var n=r(97458),a=r(34723),o=r(52983);const s=o.createContext({features:[]}),i=e=>{let{children:t,features:r}=e;return(0,n.jsx)(s.Provider,{value:{features:r},children:t})},l=()=>{const{features:e}=o.useContext(s);return e?new a.UZ(e):new a.UZ([])}},41793:function(e,t,r){"use strict";r.d(t,{J2:function(){return h}});var n,a,o=r(15313).lW,s=Object.defineProperty,i=(e,t,r)=>(((e,t,r)=>{t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r),l=((n=l||{}).DotLottieAnimationNotFound="DotLottieAnimationNotFound",n.DotLottieHasNoAnimations="DotLottieHasNoAnimations",n.DotLottieJSError="DotLottieJSError",n),c=class extends Error{get name(){return"DotLottieJSError"===this.kind&&this._inner?this._inner.name:"DotLottieError"}get message(){return"DotLottieJSError"===this.kind&&this._inner?this._inner.message:super.message}get stack(){return"DotLottieJSError"===this.kind&&this._inner?this._inner.stack:super.stack}static fromDotLottieJSError(e){let t=new c("DotLottieJSError","");return t._inner=e,t}static makeAnimationNotFoundError(e){return new c("DotLottieAnimationNotFound","The animation at the given index was not found: index=".concat(e))}static makeHasNoAnimationsError(){return new c("DotLottieHasNoAnimations","The given .lottie file does not contain any animations")}constructor(e,t){super(t),i(this,"kind"),i(this,"_inner"),this.kind=e}},d=((a=d||{}).Bounce="bounce",a.Normal="normal",a);async function u(e){let{PlayMode:t}=await Promise.all([r.e(9565),r.e(3943)]).then(r.bind(r,82832));return e===t.Bounce?"bounce":"normal"}var h=class{static async forVersion(e){let{DotLottie:t,DotLottieV1:n}=await Promise.all([r.e(9565),r.e(3943)]).then(r.bind(r,82832));return new h("1"===e?{inner:new n,version:1}:{inner:new t,version:2})}static async fromAnimationArrayBuffer(e,t,r){let n=typeof o>"u"?await new Blob([t],{type:"application/json"}).text():o.from(t).toString("utf-8"),a=JSON.parse(n);return h.fromAnimationJSON(e,a,r)}static async fromAnimationJSON(e,t,n){let{DotLottie:a,DotLottieError:o,DotLottieV1:s}=await Promise.all([r.e(9565),r.e(3943)]).then(r.bind(r,82832));var i;t.assets=null!==(i=t.assets)&&void 0!==i?i:[];try{if("2"===n.version){let r=new a,o=new h({inner:r,version:2});return await o.addAnimation(e,t,n),o}{let r=new s,a=new h({inner:r,version:1});return await a.addAnimation(e,t,n),a}}catch(e){throw e instanceof o?c.fromDotLottieJSError(e):e}}static async fromArrayBuffer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"preserve",{DotLottieError:n,loadFromArrayBuffer:a}=await Promise.all([r.e(9565),r.e(3943)]).then(r.bind(r,82832));try{let r=await a(e);return await h.fromBytes(r,t)}catch(e){throw e instanceof n?c.fromDotLottieJSError(e):e}}static async fromBytes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"preserve",{DotLottie:n,DotLottieError:a,DotLottieV1:o,getDotLottieVersion:s}=await Promise.all([r.e(9565),r.e(3943)]).then(r.bind(r,82832));try{if("2"===("preserve"===t?await s(e):t)[0]){let t=await(new n).fromArrayBuffer(e);return new h({inner:t,version:2})}{let t=await(new o).fromArrayBuffer(e);return new h({inner:t,version:1})}}catch(e){throw e instanceof a?c.fromDotLottieJSError(e):e}}static async fromURL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"preserve",{DotLottieError:n,loadFromURL:a}=await Promise.all([r.e(9565),r.e(3943)]).then(r.bind(r,82832));try{let r=await a(e);return await h.fromBytes(r,t)}catch(e){throw e instanceof n?c.fromDotLottieJSError(e):e}}get stateMachineIds(){var e,t;return 1===this._instance.version?[]:null!==(t=null===(e=this._instance.inner.manifest.stateMachines)||void 0===e?void 0:e.map((e=>e.id)))&&void 0!==t?t:[]}get themeIds(){var e,t;return 1===this._instance.version?[]:null!==(t=null===(e=this._instance.inner.manifest.themes)||void 0===e?void 0:e.map((e=>e.id)))&&void 0!==t?t:[]}get version(){return this._instance.inner.version}async addAnimation(e,t,n){let{DotLottieError:a,PlayMode:o}=await Promise.all([r.e(9565),r.e(3943)]).then(r.bind(r,82832)),s="playMode"in n&&"bounce"===n.playMode?o.Bounce:o.Normal;try{this._instance.inner.addAnimation({...n,id:e,data:t,playMode:s})}catch(e){throw e instanceof a?c.fromDotLottieJSError(e):e}}async addAnimationBuffer(e,t,r){let n=typeof o>"u"?await new Blob([t],{type:"application/json"}).text():o.from(t).toString("utf-8"),a=JSON.parse(n);await this.addAnimation(e,a,r)}async addAnimationCopy(e,t,r){let n=await r.getAnimation(e);if(n){if("1"===r.version){let r=n;await this.addAnimationBuffer(e,t,{version:"1",autoplay:r.autoplay,defaultActiveAnimation:r.defaultActiveAnimation,direction:r.direction,hover:r.hover,intermission:r.intermission,loop:r.loop,playMode:r.playMode?await u(r.playMode):"normal",speed:r.speed,themeColor:r.themeColor})}if("2"===r.version){let r=n;await this.addAnimationBuffer(e,t,{version:"2",name:r.name,defaultActiveAnimation:r.defaultActiveAnimation,...r.background?{background:r.background}:{},...r.initialTheme?{initialTheme:r.initialTheme}:{},...r.themes?{themes:r.themes.map((e=>e.id))}:{}})}}}async addTheme(e,t,r){2===this._instance.version&&this._instance.inner.addTheme({id:e,name:t,data:r})}async copyThemes(e){let t=e.themeIds;for(let r of t){let t=await e.getTheme(r);t&&await this.addTheme(r,t.name,t.data)}}async getAnimation(e){let{DotLottieError:t}=await Promise.all([r.e(9565),r.e(3943)]).then(r.bind(r,82832));try{return this._instance.inner.getAnimation(e)}catch(e){throw e instanceof t?c.fromDotLottieJSError(e):e}}async getAnimationAtIndex(e){var t;let r=this._instance.inner.animations;if(r.length<1)throw c.makeHasNoAnimationsError();let n=null===(t=r[e])||void 0===t?void 0:t.id,a=n?await this.getAnimation(n):null;if(!a)throw c.makeAnimationNotFoundError(e);return a}async getAnimations(){let e=this._instance.inner.getAnimations();return e?e.map((e=>{let[t,r]=e;return r})):[]}async getAudio(){let{DotLottieError:e}=await Promise.all([r.e(9565),r.e(3943)]).then(r.bind(r,82832));try{return this._instance.inner.getAudio()}catch(t){throw t instanceof e?c.fromDotLottieJSError(t):t}}async getImages(){let{DotLottieError:e}=await Promise.all([r.e(9565),r.e(3943)]).then(r.bind(r,82832));try{return this._instance.inner.getImages()}catch(t){throw t instanceof e?c.fromDotLottieJSError(t):t}}async getStateMachine(e){let{DotLottieError:t}=await Promise.all([r.e(9565),r.e(3943)]).then(r.bind(r,82832));if(1!==this._instance.version)try{return this._instance.inner.getStateMachine(e)}catch(e){throw e instanceof t?c.fromDotLottieJSError(e):e}}async getTheme(e){let{DotLottieError:t}=await Promise.all([r.e(9565),r.e(3943)]).then(r.bind(r,82832));if(1!==this._instance.version)try{return this._instance.inner.getTheme(e)}catch(e){throw e instanceof t?c.fromDotLottieJSError(e):e}}async toArrayBuffer(){let{DotLottieError:e}=await Promise.all([r.e(9565),r.e(3943)]).then(r.bind(r,82832));try{return this._instance.inner.toArrayBuffer()}catch(t){throw t instanceof e?c.fromDotLottieJSError(t):t}}async toBlob(){let e=await this.toArrayBuffer();return new Blob([e],{type:"application/zip"})}constructor(e){i(this,"_instance"),this._instance=e}}}},function(e){e.O(0,[6896,2888,9774,179],(function(){return t=84042,e(e.s=t);var t}));var t=e.O();_N_E=t}]);