"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3526],{26636:function(e,n,t){t.d(n,{o:function(){return r}});var o=t(97458);const r=t(52983).forwardRef(((e,n)=>{let{children:t,contentWrapperCssClasses:r="flex-grow overflow-hidden",headerControl:a,headerWrapperCssClasses:i="bg-white h-16 flex items-center sm:px-6 px-2 border-b border-gray-100 flex-shrink-0",id:l}=e;return(0,o.jsxs)("div",{id:l,ref:n,"data-onboarding-watch":"create_menu_new_button",className:"flex overflow-y-auto absolute inset-0 flex-col w-full",children:[a&&(0,o.jsx)("div",{className:i,children:a}),(0,o.jsx)("div",{className:r,children:t})]})}));r.displayName="PageScaffold"},19677:function(e,n,t){t.d(n,{s:function(){return l}});var o=t(97458),r=(t(52983),t(75800)),a=t(59598),i=t(35463);const l=()=>{const[e,n]=(0,r.useRecoilState)(a.Hw);return(0,o.jsx)(i.n,{icon:"bounding-box",title:"Bounding box",onClick:()=>{n(!e)},iconColorClass:e?"text-actionPrimary":"text-gray-600"})}},5208:function(e,n,t){t.d(n,{s:function(){return l}});var o=t(97458),r=t(52983),a=t(47523),i=t(19742);const l=e=>{let{body:n,buttonTitle:t,cancelTitle:l="Cancel",closeCallback:s=(()=>null),confirmLoading:c=!1,isDestructive:d=!0,onConfirm:u,showModal:f,title:p,zIndexClassName:m="z-50"}=e;const v=(0,r.useCallback)((()=>{u()}),[u]),h=(0,r.useCallback)((e=>{s(e)}),[s]);return(0,o.jsx)(i.ModalV2,{show:f,title:p,paddingSize:"md",zIndexClassName:m,closeCallback:h,children:(0,o.jsxs)("div",{className:"mt-6 space-y-10",children:[(0,o.jsx)("p",{className:"text-sm text-gray-900",children:n}),(0,o.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,o.jsx)(a.z,{variant:"ghost",onClick:()=>h(i.CloseSource.CANCEL_BUTTON),fluid:!0,children:l}),(0,o.jsx)(a.z,{disabled:c,showLoader:c,color:d?"red":"teal",onClick:v,fluid:!0,children:t})]})]})})};n.Z=l},14586:function(e,n,t){t.d(n,{K:function(){return o}});const o=(0,t(52983).createContext)({currentFrame:0,totalFrames:0})},9833:function(e,n,t){t.d(n,{p:function(){return a}});var o=t(79120),r=t(52983);const a=e=>{let{color:n}=e;return(0,r.useMemo)((()=>{try{return(0,o.H3)(n)>=.5}catch(e){return!1}}),[n])}},10226:function(e,n,t){t.r(n),t.d(n,{default:function(){return Ie}});var o,r,a=t(97458),i=t(96734),l=t(52438),s=t(88360),c=t(34723),d=t(83849),u=t.n(d),f=t(79120),p=t(77179),m=t.n(p),v=t(69238),h=t(34038),x=t.n(h),C=t(54542),b=t.n(C),g=t(52983),w=t(75296),y=t(75800),E=t(80794),k=t(88510),S=t(26636),j=t(19677),M=t(26507),N=t(10103),O=t(19742),I=t(22455),T=t(35463),_=t(5208),R=t(8824),A=t(37095),P=t(31662),F=t(2242),L=t(67522),D=t(26531),q=t(96355),G=t(9833),U=t(4876),V=t(186),B=t(58535),W=t(21330),z=t(49939),Z=t(63005),K=t(38800),Q=t(91591),Y=t(59598),H=t(89398),X=t(5775),J=t(46382),$=t(64781),ee=t(16887),ne=t(40207),te=t(46989),oe=t(76042),re=t(66575),ae=t(26643);!function(e){e.Error="error",e.Input="input",e.Output="output"}(o||(o={})),function(e){e.PNG="png",e.SVG="svg"}(r||(r={}));var ie=t(81040),le=t(64113);const se=async(e,n)=>{try{const t=new ClipboardItem({[n]:Promise.resolve(e())});return await navigator.clipboard.write([t]),!0}catch(e){return!1}};var ce=t(74419),de=t(23048),ue=t(393),fe=t(16239);const pe=x()((async()=>t.e(3955).then(t.bind(t,83955))),{loadableGenerated:{webpack:()=>[83955]},ssr:!1}),me=x()((async()=>Promise.all([t.e(9117),t.e(4354)]).then(t.bind(t,84354))),{loadableGenerated:{webpack:()=>[84354]},ssr:!1}),ve=x()((async()=>t.e(2408).then(t.bind(t,52408))),{loadableGenerated:{webpack:()=>[52408]},ssr:!1}),he=x()((async()=>Promise.all([t.e(1743),t.e(2125),t.e(4153),t.e(2467),t.e(1859)]).then(t.bind(t,37627))),{loadableGenerated:{webpack:()=>[37627]},ssr:!1}),xe=x()((async()=>Promise.all([t.e(8425),t.e(7528)]).then(t.bind(t,27638))),{loadableGenerated:{webpack:()=>[27638]},ssr:!1}),Ce=x()((async()=>Promise.all([t.e(2900),t.e(3545)]).then(t.bind(t,13545))),{loadableGenerated:{webpack:()=>[13545]},ssr:!1}),be=x()((async()=>t.e(7285).then(t.bind(t,67285))),{loadableGenerated:{webpack:()=>[67285]},ssr:!1}),ge=x()((async()=>t.e(9749).then(t.bind(t,89749))),{loadableGenerated:{webpack:()=>[89749]},ssr:!1}),we=x()((async()=>t.e(2501).then(t.bind(t,42501))),{loadableGenerated:{webpack:()=>[42501]},ssr:!1}),ye=x()((async()=>Promise.all([t.e(7713),t.e(4622),t.e(2095)]).then(t.bind(t,32095))),{loadableGenerated:{webpack:()=>[32095]},ssr:!1}),Ee=x()((async()=>Promise.all([t.e(243),t.e(2410),t.e(5266),t.e(4270),t.e(7042),t.e(5627),t.e(3389),t.e(3837),t.e(1781)]).then(t.bind(t,71781))),{loadableGenerated:{webpack:()=>[71781]},ssr:!1}),ke=x()((async()=>Promise.resolve().then(t.bind(t,67496))),{loadableGenerated:{webpack:()=>[67496]},ssr:!1}),Se=x()((async()=>t.e(5860).then(t.bind(t,85860))),{loadableGenerated:{webpack:()=>[85860]},ssr:!1}),je=x()((async()=>Promise.all([t.e(4588),t.e(70),t.e(7158)]).then(t.bind(t,77158))),{loadableGenerated:{webpack:()=>[77158]},ssr:!1}),Me=x()((async()=>Promise.all([t.e(1743),t.e(2125),t.e(4153),t.e(2467),t.e(3829),t.e(9789)]).then(t.bind(t,83829))),{loadableGenerated:{webpack:()=>[83829]},ssr:!1}),Ne=x()((async()=>Promise.all([t.e(2125),t.e(2885),t.e(2900),t.e(9117),t.e(2064),t.e(3281),t.e(6323),t.e(443)]).then(t.bind(t,50443))),{loadableGenerated:{webpack:()=>[50443]},ssr:!1}),Oe=()=>{var e,n,r,d,p,h,x,C,k,fe,Oe,Ie,Te,_e,Re,Ae,Pe,Fe,Le,De,qe,Ge,Ue;const[Ve,Be]=(0,g.useState)(),[We,ze]=(0,y.useRecoilState)(Y.sI),[Ze,Ke]=(0,g.useState)(),[Qe,Ye]=(0,g.useState)(),He=(0,y.useSetRecoilState)(X.E4),Xe=(0,y.useSetRecoilState)(Y.GG),[Je,$e]=(0,g.useState)(null),[en,nn]=(0,g.useState)(null),[tn,on]=(0,g.useState)(!1),rn=(0,y.useResetRecoilState)(Y.h3),an=(0,y.useResetRecoilState)(Y.lS),ln=(0,y.useSetRecoilState)(J.QJ),[sn,cn]=(0,g.useState)(!1),dn=(0,g.useRef)(!1),un=(0,g.useRef)(!1),fn=(0,y.useSetRecoilState)(X.qx),[pn,mn]=(0,g.useState)(),[vn,hn]=(0,g.useState)(!1),[xn,Cn]=(0,g.useState)(!1),[bn,gn]=(0,g.useState)(""),[wn,yn]=(0,g.useState)($.s.NONE),[En,kn]=(0,g.useState)(!1),Sn=(0,g.useRef)(null),jn=/^((?!chrome|android).)*safari/iu.test(navigator.userAgent),[Mn,Nn]=(0,g.useState)(!1),[On,In]=(0,g.useState)(),[Tn,_n]=(0,g.useState)(null),[Rn,An]=(0,g.useState)(null),Pn=(0,i.SS)(c.AD.ENABLE_ANIMATION_PLAYER_CONTEXT_MENU),[Fn,Ln]=(0,g.useState)(null),[Dn,qn]=(0,g.useState)(null),[Gn,Un]=(0,g.useState)(""),[Vn,Bn]=(0,g.useState)(!1),Wn=(0,g.useRef)(!1),zn=(0,R.p)(),Zn=(0,v.useRouter)(),{frame:Kn,sort:Qn}=Zn.query,{done:Yn,isLoaded:Hn,setWelcomeText:Xn,showChecklist:Jn,showFirstPendingTask:$n,state:et}=(0,B.d)(),{handback_id:nt,id:tt}=Zn.query,ot=(0,F.a)(),{activeWorkspaceId:rt,setActiveWorkspace:at,workspaces:it}=(0,z.cF)(),lt=(0,i.SS)(c.AD.ENABLE_ANIMATION_NAVIGATION_SHORTCUTS),st=(0,i.SS)(c.AD.ENABLE_SIDEBAR_REDESIGN).on,ct=(0,i.SS)(c.AD.ENABLE_MERGE_DOWNLOAD_HANDOFF_PANEL).on,[dt]=(0,E.aM)({query:Z.wP,variables:{id:tt},pause:!tt}),[ut]=(0,E.aM)({query:Z.xQ,variables:{id:tt,sort:Qn,folderId:null===(n=dt.data)||void 0===n||null===(e=n.file.folder)||void 0===e?void 0:e.id},pause:!tt||!dt.data||!lt.on}),[ft]=(0,E.aM)({query:le.gR,variables:{resourceId:null==We?void 0:We.id,resourceType:ie.f.FILE},pause:!Pn.value||!(null==We?void 0:We.id)}),pt=(0,g.useMemo)((()=>{var e;const n="https://app.lottiefiles.com",t=null===(e=ft.data)||void 0===e?void 0:e.publicShare,o="".concat(n,"/animation/").concat(null==We?void 0:We.id);return t?"".concat(n,"/share/").concat(null==t?void 0:t.shareCode):o}),[null==We?void 0:We.id,null===(r=ft.data)||void 0===r?void 0:r.publicShare]),[mt,vt]=(0,q.w)(),[ht,xt]=(0,V._)("animation_sidebar_panel_state",{}),Ct=(0,g.useCallback)((e=>{e?($e(m()(e)),Ln(m()(e))):($e(null),Ln(null))}),[]),bt=e=>{var n,t;if(lt.off)return;Bn(!0);const o="next"===e?null===(n=ut.data)||void 0===n?void 0:n.fileAboveAndBelowId.nextAnimation:null===(t=ut.data)||void 0===t?void 0:t.fileAboveAndBelowId.prevAnimation;if(o){const n={...Zn.query};n.id=o,Zn.push({pathname:"/animation/[id]",query:n},void 0,{shallow:!0}),"next"===e?un.current=!1:dn.current=!1}else{const n="next"===e?dn:un;if(!n.current){const e=(0,a.jsx)("div",{children:"No more animations to go to"});null==zn||zn.pushCustom(e,1e3,"!bg-gray-900","text-white"),n.current=!0}}};(0,U.Z)({key:"k",action:()=>bt("next"),dependencies:[ut,lt.off,mt,Zn],takesPrecedence:!0}),(0,U.Z)({key:"j",action:()=>bt("prev"),dependencies:[ut,lt.off,mt,Zn],takesPrecedence:!0}),(0,g.useEffect)((()=>{if(ut.data&&ut.data.fileAboveAndBelowId.nextAnimation&&!Wn.current&&lt.on){var e;const n="next-prev-toast-".concat(null===(e=ot.user)||void 0===e?void 0:e.id),t=localStorage.getItem(n),o=(new Date).getTime();if(!t||o-parseInt(t,10)>12096e5){localStorage.setItem(n,o.toString());const e=(0,a.jsxs)("div",{children:["Use the ",(0,a.jsx)("span",{className:"px-2 py-0.5 mx-1 bg-gray-500 rounded",children:"J"})," and"," ",(0,a.jsx)("span",{className:"px-2 py-0.5 mx-1 bg-gray-500 rounded",children:"K"})," keys to go to the next or previous animation"]});null==zn||zn.pushCustom(e,3e3,"!bg-gray-900","text-white")}Wn.current=!0}}),[zn,lt.on,null===(d=ot.user)||void 0===d?void 0:d.id,ut.data]),(0,g.useEffect)((()=>{if(dt.data){var e,n;const o=null===(e=dt.data.file.folder)||void 0===e?void 0:e.id,r=null===(n=dt.data.file.folder)||void 0===n?void 0:n.name,a=dt.data.file.project.id,i=dt.data.file.project.title;var t;const l=null!==(t=dt.data.file.project.isPrivate)&&void 0!==t&&t,s=dt.data.file.project.workspaceId,c=it.some((e=>{let{id:n}=e;var t;return n===(null===(t=dt.data)||void 0===t?void 0:t.file.project.workspaceId)}));s&&c&&s!==rt&&at(s,!1),ln({type:o?"folder":"project",name:o?r:i,folderId:o,folderName:r,projectId:a,projectTitle:i,isPrivate:l,workspaceId:s})}}),[dt.data,ln,rt,at,it]);const[gt,wt]=(0,g.useState)(""),[yt]=(0,y.useRecoilState)(Y.h3),{canDownload:Et,canFullAccess:kt,canView:St}=(0,P.a)({scopes:(null==We?void 0:We.animationPermissionScopes)||[]}),[jt,Mt]=(0,g.useState)({id:"",showDescOnCollection:!1,description:"",descriptionModifiedBy:null});(0,g.useEffect)((()=>{var e;if((rn(),dt.fetching&&fn(!0),!dt.fetching)&&(fn(!1),tt&&mt===$.s.NONE&&window.innerWidth>768))if(ht&&(null===(e=ot.user)||void 0===e?void 0:e.id)&&ht[ot.user.id]){const e=ht[ot.user.id];e===$.s.LOTTIE_MOCKUP?vt($.s.SEGMENT_MOCKUP):vt(e)}else Vn||vt($.s.DOWNLOAD);return()=>{}}),[dt,tt]);const Nt=(0,g.useCallback)((e=>{try{void 0!==(0,f.H3)(e)&&wt(e)}catch(e){wt("")}}),[]);(0,g.useEffect)((()=>{var e,n;if(null==yt?void 0:yt.fileObject){var t;Be(yt.fileObject.url),Ke(yt.fileObject.metadata),Ye(yt.fileObject.attributes),nn(yt.fileObject),mn(yt.tags),qn(null!==(t=yt.fileObject.themes)&&void 0!==t?t:null),Nt(yt.backgroundColor);const e=yt.fileObject.url,n=e.substring(e.lastIndexOf("/")+1,e.indexOf("?")).split(".").pop();Xe("lottie"===n)}else if((null===(e=dt.data)||void 0===e?void 0:e.file)&&!dt.fetching){var o,r;Be(dt.data.file.fileObject.url),ze(dt.data.file),He({type:"project",id:dt.data.file.project.id}),Ke(dt.data.file.fileObject.metadata),Ye(dt.data.file.fileObject.attributes),nn(dt.data.file.fileObject),mn(dt.data.file.currentVersion.tags),qn(null!==(r=dt.data.file.fileObject.themes)&&void 0!==r?r:null),Mt({id:dt.data.file.id,showDescOnCollection:dt.data.file.showDescOnCollection,description:dt.data.file.description,descriptionUpdatedAt:null===(o=dt.data.file)||void 0===o?void 0:o.descriptionUpdatedAt,descriptionModifiedBy:dt.data.file.descriptionModifiedBy}),Nt(dt.data.file.backgroundColor);const e=dt.data.file.fileObject.url,n=e.substring(e.lastIndexOf("/")+1,e.indexOf("?")).split(".").pop();Xe("lottie"===n)}else dt.error&&(0,te.w)(dt.error);if(null===(n=dt.data)||void 0===n?void 0:n.file.upgradeRequired)throw new A.K}),[dt,yt,Xe,ze,He,Nt]),(0,g.useEffect)((()=>{var e;(null===(e=dt.data)||void 0===e?void 0:e.file.id)&&(0,s.Z9)(new s.Aj({fileId:dt.data.file.id,projectId:dt.data.file.project.id,workspaceId:dt.data.file.project.workspaceId,url:window.location.href}))}),[null===(p=dt.data)||void 0===p?void 0:p.file.id,null===(h=dt.data)||void 0===h?void 0:h.file.project.id,null===(x=dt.data)||void 0===x?void 0:x.file.project.workspaceId]);const[Ot,It]=(0,g.useState)(!1),[Tt,_t]=(0,g.useState)(!1),Rt=(0,w.r)(),[,At]=(0,y.useRecoilState)(H.YC),Pt=(0,g.useCallback)((()=>{Zn.query.comment&&(delete Zn.query.comment,Zn.push({pathname:Zn.pathname,query:Zn.query},void 0,{shallow:!0}))}),[Zn]),Ft=(0,g.useCallback)((()=>{if(mt===$.s.SEGMENT_MOCKUP&&vn)return Cn(!0),void yn($.s.NONE);vt($.s.NONE),xt((e=>{var n;if(null===(n=ot.user)||void 0===n?void 0:n.id){const n={...e};return delete n[ot.user.id],n}return e})),Zn.query.panel&&(delete Zn.query.panel,Zn.push({pathname:Zn.pathname,query:Zn.query},void 0,{shallow:!0}))}),[mt,null===(C=ot.user)||void 0===C?void 0:C.id,vn,Zn,vt,xt]),Lt=(0,g.useCallback)((e=>()=>{if(mt===e)Ft();else{if(mt===$.s.SEGMENT_MOCKUP&&vn)return Cn(!0),void yn(e);vt(e),xt((n=>{var t;return(null===(t=ot.user)||void 0===t?void 0:t.id)?{...n,[ot.user.id]:e}:n})),Zn.query.panel!==e&&(Zn.query.panel=e,Zn.push({pathname:Zn.pathname,query:Zn.query},void 0,{shallow:!0}))}}),[Ft,mt,null===(k=ot.user)||void 0===k?void 0:k.id,vn,Zn,vt,xt]);(0,g.useEffect)((()=>{At(""),cn(!1),Ct(null),Pt()}),[mt,At,cn,Pt,Ct]),(0,U.Z)({key:"c",action:()=>{mt!==$.s.COMMENTS?Lt($.s.COMMENTS)():mt===$.s.COMMENTS&&Ft()},dependencies:[Lt,Ft,mt]});const[Dt]=(0,E.aM)({query:K.g,variables:{id:nt},pause:!nt});(0,g.useEffect)((()=>{dt.data&&We&&(mt!==$.s.COMMENTS&&Zn.query.comment&&(Lt($.s.COMMENTS)(),Zn.push({pathname:Zn.pathname,query:Zn.query},void 0,{shallow:!0})),Et()||mt!==$.s.DOWNLOAD||Lt($.s.COMMENTS)(),Et()||mt!==$.s.EMBED||Lt($.s.COMMENTS)(),Zn.query.edit_description&&(mt!==$.s.FILE_INFO&&Lt($.s.FILE_INFO)(),cn(!0),delete Zn.query.edit_description,Zn.replace({pathname:Zn.pathname,query:Zn.query},void 0,{shallow:!0})))}),[We,mt,Zn,Lt,sn,Et,dt.data]);const qt=(0,g.useCallback)((()=>{if(vn&&!Ot)return Cn(!0),void kn(!0);Ot?(It(!1),Rt.exit()):(It(!0),Ft(),Rt.enter())}),[Ft,Ot,Rt,vn]),Gt=(0,g.useCallback)(((e,n)=>{n===Rt&&It(!!e)}),[Rt]);(0,g.useEffect)((()=>{var e;We&&("color-palette"!==Zn.query.from||(null===(e=et.tasks[ne.X.CUSTOMIZE_COLOR])||void 0===e?void 0:e.done)||(Yn(ne.X.CUSTOMIZE_COLOR),console.log("Show checklist 1!"),Jn(!0)),"download"===Zn.query.from||"embed"===Zn.query.from||!Hn||et.seen||et.show||(Xn(et.newToOnboarding?"Welcome! Learn all about our platform’s most helpful features with this checklist ✨":"Level up your motion design game by exploring our platform’s most helpful features in this checklist ✨"),console.log("Show checklist 2!",Hn,et.seen,et.show),Jn(!0),$n()))}),[We,et,Yn]);const Ut=(0,g.useCallback)((()=>{_t(!Tt)}),[Tt,_t]),Vt=(0,g.useRef)(null),Bt=(0,g.useMemo)((()=>(null==yt?void 0:yt.id)||(null==We?void 0:We.currentVersionId)||""),[null==yt?void 0:yt.id,null==We?void 0:We.currentVersionId]),Wt=(0,g.useMemo)((()=>{var e,n;return{entityId:Bt,entityGroupId:(null==We?void 0:We.id)||tt,isEnabled:!(null==yt?void 0:yt.id)||yt.id===(null==We?void 0:We.currentVersionId),workspaceId:(null==We||null===(n=We.project)||void 0===n||null===(e=n.workspace)||void 0===e?void 0:e.id)||""}}),[Bt,null==yt?void 0:yt.id,null==We?void 0:We.currentVersionId,null==We?void 0:We.id,null==We||null===(Oe=We.project)||void 0===Oe||null===(fe=Oe.workspace)||void 0===fe?void 0:fe.id,tt]),zt=(0,L.X0)(Wt),Zt=(0,L.us)(Wt),Kt=(0,L.es)(Wt),Qt=(0,L.VP)(Wt),Yt=(0,L.UR)(Wt),Ht=(0,L.OL)(Wt),Xt=(0,L._i)(Wt),{canFetchMoreComments:Jt,commentsQuery:$t,onFetchMoreComments:eo,onHideReplies:no,onShowReplies:to,parentComment:oo,pushoverMode:ro}=(0,D.M)({entityId:mt===$.s.COMMENTS?Bt:"",entityType:ee.TY.FileVersion});(0,g.useEffect)((()=>{Kn&&no(null)}),[Kn,no]);const ao=(0,G.p)({color:gt||"#f8fafc"}),[io]=(0,E.aM)({query:Q.mT,variables:{id:tt},pause:!tt||mt!==$.s.COMMENTS}),[lo,so]=(0,g.useState)(!1),co=(0,g.useCallback)((()=>so(!0)),[]),uo=(0,g.useCallback)((()=>so(!1)),[]),fo=(0,g.useCallback)((()=>{const e=new s.Rd("button","discard changes","unsaved segment changes modal");return En?(hn(!1),kn(!1),It(!0),vt($.s.NONE),void Rt.enter()):((0,s.Z9)(e),bn?(hn(!1),void Zn.push(bn)):(hn(!1),vt(wn),void yn($.s.NONE)))}),[Rt,Zn,vt,En,wn,bn]);(0,g.useEffect)((()=>{uo()}),[ro,uo]),(0,g.useEffect)((()=>{const e=e=>{if(vn&&!xn)throw Zn.events.emit("routeChangeError"),Cn(!0),gn(e),"Abort route change. Please ignore this error.";xn&&Cn(!1)};return Zn.events.on("routeChangeStart",e),()=>{Zn.events.off("routeChangeStart",e)}}),[vn,Zn.events,xn]);const po=(0,g.useCallback)((async e=>{await navigator.clipboard.writeText(pt),(0,s.Z9)(new s.wk({source:e,subject:"animation",variant:pt.includes("share")?"public-share":"direct"})),null==zn||zn.pushCustom("Animation link copied",2500,"!bg-gray-900","text-white")}),[pt,zn]),mo=(0,g.useCallback)((()=>{Nn(!1),_n(null),An(null),In(void 0)}),[]),vo=(0,g.useCallback)((async()=>{if(!Tn||!Rn||!On)return;if(await se((async()=>Tn),Rn)){const e=On===oe.A.SVG?"SVG frame copied":"PNG frame copied";null==zn||zn.pushCustom(e,2500,"!bg-gray-900","text-white")}mo()}),[Tn,Rn,On,mo,zn]),ho=(0,g.useCallback)((async e=>{let{format:n,frame:r,height:a,width:i}=e;var l;if(!Ve)return;let s={};const c=(e=>{switch(e){case"text/plain":case"image/svg+xml":return"text/plain";case"image/png":return"image/png";default:throw new Error("Invalid content type")}})(n===oe.A.SVG?"image/svg+xml":"image/png");if(Fn)s=Fn;else{const e=await(0,re.tr)(Ve);if(!e)return void(null==zn||zn.pushError("Failed "));s=e}const d=(await t.e(7255).then(t.t.bind(t,53409,23))).default.loadAnimation({container:Sn.current,renderer:"svg",loop:!1,autoplay:!1,animationData:s});d.pause(),d.goToAndStop(r,!0);const u=(null===(l=Sn.current)||void 0===l?void 0:l.firstChild).cloneNode(!0),f=Array.from(u.getElementsByTagName("image")),p=gt;u.style.backgroundColor=!Tt&&p?p:"transparent",u.setAttribute("width","".concat(i)),u.setAttribute("height","".concat(a)),(0,ae.jn)(u),f.forEach(ae.O6);const m=(new XMLSerializer).serializeToString(u);if(n===oe.A.SVG)if(jn)An(c),In(n),_n(new Blob([m],{type:c})),Nn(!0);else{await se((async()=>new Blob([m],{type:c})),c)&&(null==zn||zn.pushCustom("SVG frame copied",2500,"!bg-gray-900","text-white"))}else{const e=new Worker(t.tu(new URL(t.p+t.u(6002),t.b)));e.onmessage=async t=>{if(t.data.type===o.Error);else if(t.data.type===o.Output){const e=t.data.buffer;if(jn)An(c),In(n),_n(new Blob([e],{type:c})),Nn(!0);else{await se((async()=>new Blob([e],{type:c})),c)&&(null==zn||zn.pushCustom("PNG frame copied",2500,"!bg-gray-900","text-white"))}}e.terminate()},e.postMessage({type:o.Input,svg:m,width:i,height:a,backgroundColor:Tt?"transparent":p})}d.destroy()}),[gt,Fn,jn,zn,Tt,Ve]);(0,U.Z)({disabled:!Pn.value,key:"l",takesPrecedence:!0,metaKeyRequired:!0,action:()=>{po("keypress")},dependencies:[po]});const xo=(0,g.useCallback)((e=>{if(mt!==e){if(mt===$.s.SEGMENT_MOCKUP&&vn)return Cn(!0),void yn(e);(0,s.Z9)(new s.lF({location:e})),Lt(e)()}}),[mt,vn,Lt]),Co=(0,g.useCallback)((e=>()=>{xo(e)}),[xo]),bo=(0,g.useCallback)((e=>{const n=e===O.CloseSource.GENERIC?"cross":"stay on page",t=new s.Rd("button",n,"unsaved segment changes modal");e===O.CloseSource.GENERIC&&(0,s.Z9)(t),e===O.CloseSource.CANCEL_BUTTON&&(0,s.Z9)(t),Cn(!1)}),[]),go=ot.isAuthenticated&&(null===(Ie=ot.user)||void 0===Ie?void 0:Ie.id)?"".concat(ot.user.id):"guest",[,wo]=(0,V._)("wf:animation-page-visit-count:".concat(go),0);return(0,g.useEffect)((()=>{wo((e=>e<Number.MAX_SAFE_INTEGER?e+1:e))}),[Zn.pathname,wo]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b(),{children:(0,a.jsx)("title",{children:"Animation - LottieFiles Platform"})}),(0,a.jsxs)(S.o,{headerControl:(0,a.jsx)(W.s,{features:null==We?void 0:We.features,children:(0,a.jsx)(Ne,{animation:We,animationFetching:dt.fetching})}),contentWrapperCssClasses:"flex overflow-hidden flex-grow",children:[We&&(0,a.jsxs)(W.s,{features:We.features,children:[(0,a.jsxs)(w.I,{className:u()({"flex flex-grow":!0}),handle:Rt,onChange:Gt,children:[(0,a.jsx)("div",{className:u()({"flex relative flex-grow":!0,"transparency-grid":Tt}),children:(0,a.jsxs)("div",{className:"flex relative w-full h-full",children:[(0,a.jsx)("div",{className:u()({"flex absolute inset-0 flex-grow":!0,"transparency-grid":Tt}),style:{...gt?{background:gt}:{}}}),mt===$.s.LOTTIE_MOCKUP?(0,a.jsx)("div",{className:"flex overflow-auto relative justify-center items-center pr-80 w-full h-full",children:(0,a.jsx)(je,{animation:We,canEdit:kt()})}):(0,a.jsxs)("div",{className:u()("relative flex items-center justify-center w-full h-full overflow-auto",{"pr-80":mt!==$.s.NONE}),children:[Ve&&!Je&&(0,a.jsx)(Me,{showComments:!0,canComment:!yt,canCreateThemes:Et(),mentionables:null===(Te=io.data)||void 0===Te?void 0:Te.commentMentionableUsers,portalRoot:Vt.current,animationUrl:Ve,currentDiscussion:oo,currentUserId:null===(_e=ot.user)||void 0===_e?void 0:_e.id,entityId:Bt,entityType:ee.TY.FileVersion,fileId:We.id,controls:!Ot,isLight:ao,onCopyFrameClick:ho,onCopyLinkClick:po,onDeleteComment:zt,onEditComment:Zt,onPostComment:Kt,onReplyToComment:Qt,onResolveComment:Yt,onSelectReaction:Ht,onUnresolveComment:Xt,withContextMenu:!0,themes:null==Dn?void 0:Dn.map((e=>e.id)),themeId:Gn,onThemeChange:Un,formatVersion:We.fileObject.attributes.formatVersion}),Ve&&Fn&&(0,a.jsx)(Me,{portalRoot:Vt.current,animationUrl:Fn,controls:!Ot,isLight:ao,onCopyFrameClick:ho,onCopyLinkClick:po,withContextMenu:!0,fileId:We.id,themes:null==Dn?void 0:Dn.map((e=>e.id)),themeId:Gn,onThemeChange:Un}),!Ot&&(0,a.jsxs)("div",{className:u()("absolute top-0 bottom-0 flex flex-col pt-4 md:pt-8 pr-4 md:pr-8 pb-14 min-h-0",{"right-0":mt===$.s.NONE,"right-86":mt!==$.s.NONE}),children:[(0,a.jsxs)("div",{className:"flex flex-col space-y-2","data-onboarding-id":"anim-panel-btn",children:[St()&&(0,a.jsx)("div",{"data-onboarding-id":"anim-comment-btn",children:(0,a.jsx)(T.n,{icon:"comment",title:"Comments",shortcut:(0,a.jsx)(I.z,{keys:["C"]}),onClick:Co($.s.COMMENTS),iconColorClass:mt===$.s.COMMENTS?"text-actionPrimary":"text-gray-600"})}),(0,a.jsx)(T.n,{icon:"info",title:"Animation information",onClick:Co($.s.FILE_INFO),iconColorClass:mt===$.s.FILE_INFO?"text-actionPrimary":"text-gray-600"}),kt()&&!yt&&(0,a.jsx)("div",{"data-onboarding-id":"anim-color-palette-btn",children:(0,a.jsx)(T.n,{icon:"color-palette",title:"Color Palette",onClick:Co($.s.COLOR_PALETTES),iconColorClass:mt===$.s.COLOR_PALETTES?"text-actionPrimary":"text-gray-600"})}),!yt&&(0,a.jsx)("div",{"data-onboarding-id":"anim-segment-btn",children:(0,a.jsx)(T.n,{icon:"segment-mockup",title:"Segments & mockups",onClick:Co($.s.SEGMENT_MOCKUP),iconColorClass:mt===$.s.SEGMENT_MOCKUP?"text-actionPrimary":"text-gray-600"})}),kt()&&(0,a.jsx)("div",{"data-onboarding-id":"anim-version-btn",children:(0,a.jsx)(T.n,{icon:"history",title:"Version history",onClick:Co($.s.VERSIONS),iconColorClass:mt===$.s.VERSIONS?"text-actionPrimary":"text-gray-600"})}),Et()&&!yt&&(0,a.jsx)(T.n,{icon:"embed",title:"Handoff & embed",iconColorClass:mt===$.s.EMBED?"text-actionPrimary":"text-gray-600",onClick:Co($.s.EMBED)})]}),(0,a.jsxs)("div",{className:"flex flex-col pt-2 pb-4 space-y-2 md:mt-auto md:py-0",children:[(0,a.jsx)(j.s,{}),(0,a.jsx)(T.n,{icon:"grid",title:"Transparency grid",onClick:Ut,iconColorClass:Tt?"text-actionPrimary":"text-gray-600"}),(0,a.jsx)(Se,{animationBackgroundColor:gt||"#f8fafc",canUpdate:kt(),onChange:e=>{wt(e)},fileId:We.id,portalRoot:Vt.current}),(0,a.jsx)(T.n,{icon:"full-screen",title:"Full screen",onClick:qt,iconColorClass:Ot?"text-actionPrimary":"text-gray-600"}),(0,a.jsx)(M.L,{}),st&&(0,a.jsx)(ue.c,{sideOffset:0,align:"end",arrowOffset:-8,side:"bottom",className:"self-end flex justify-center items-center w-full rounded-lg bg-white shadow-[0px 2px 6px 0px rgba(0, 0, 0, 0.06)]",children:(0,a.jsx)(ce.q,{side:"left",align:"end",sideOffset:6,source:"animation sidebar",children:(0,a.jsx)(de.u,{title:"Help & resources",placement:"left",children:(0,a.jsx)(N.h,{id:"helper-menu",name:"help",rounded:!0,"aria-haspopup":"true","aria-expanded":"true",focusBackgroundClass:"none",hoverBackgroundClass:"hover:bg-gray-100",backgroundClass:"!size-8 !rounded-lg"})})})})]})]})]})]})}),(0,a.jsx)("div",{className:"flex overflow-hidden absolute right-0 bottom-0 top-16 flex-grow","data-onboarding-watch":"side_panel",children:(0,a.jsxs)(l.u,{show:mt!==$.s.NONE,className:u()("relative flex flex-col bg-white border-l border-gray-100 w-86",{"pb-24":et.show}),enter:"transform transition ease-in-out duration-50",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-50",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:[mt!==$.s.LOTTIE_MOCKUP&&(0,a.jsx)("div",{className:"absolute top-6 right-6",children:(0,a.jsx)(N.h,{name:"cross",onClick:Ft,small:!0,iconLighter:!0})}),mt===$.s.COMMENTS&&(0,a.jsx)(ke,{currentUserId:null===(Re=ot.user)||void 0===Re?void 0:Re.id,discussions:null===(Pe=$t.data)||void 0===Pe||null===(Ae=Pe.comments)||void 0===Ae?void 0:Ae.edges,isFetchingDiscussions:$t.fetching,isInputExpanded:lo,mentionables:null===(Fe=io.data)||void 0===Fe?void 0:Fe.commentMentionableUsers,mode:ro,parentDiscussion:oo,canFetchMoreComments:Jt,onCollapseInput:uo,onFetchMoreComments:eo,onExpandInput:co,onDelete:zt,onEdit:Zt,onPost:Kt,onReply:Qt,onReplyClick:to,onResolve:Yt,onSelectReaction:Ht,onUnresolve:Xt}),mt===$.s.FILE_INFO&&Ze&&(0,a.jsx)(Ee,{fileMetaData:Ze,basicMetadata:Qe,fileData:jt,canEdit:kt(),canDownload:Et(),isEditing:Boolean(kt()&&sn),fileUrl:Ve,tags:pn,fileVersionId:We.currentVersion.id,pageSource:"animation details page",thumbnailUrl:null==en||null===(qe=en.thumbnails)||void 0===qe||null===(De=qe.png)||void 0===De||null===(Le=De.medium)||void 0===Le?void 0:Le.url,animation:We,workspaceId:We.project.workspaceId}),mt===$.s.COLOR_PALETTES&&(0,a.jsx)(ye,{animationUrl:Ve,portalRoot:Vt.current,workspaceId:We.project.workspaceId,setColorModifiedLottie:Ct,setOpenColorPaletteModal:on}),mt===$.s.LOTTIE_MOCKUP&&(0,a.jsx)(we,{canEdit:kt(),animation:We,onBackToLottieMockupList:Co($.s.SEGMENT_MOCKUP)}),mt===$.s.SEGMENT_MOCKUP&&(0,a.jsx)(ge,{animation:We,showLottieMockup:Co($.s.LOTTIE_MOCKUP),onSegmentsDirtyChange:hn}),mt===$.s.VERSIONS&&(0,a.jsx)(be,{onVersionSelected:()=>{$e(null),an()},animation:We}),mt===$.s.QRCODE&&(0,a.jsx)(Ce,{fileUrl:We.fileObject.url}),!ct&&mt===$.s.EMBED&&(0,a.jsx)(he,{canUpdatePublicAsset:kt(),fileId:We.id,currentVersionId:We.currentVersionId,workspaceId:We.project.workspaceId}),!ct&&mt===$.s.DOWNLOAD&&Qe&&(0,a.jsx)(ve,{animation:We,basicMetadata:Qe,fileMetaData:Ze,source:"animation"}),ct&&(mt===$.s.DOWNLOAD&&Qe||mt===$.s.EMBED)&&(0,a.jsx)(xe,{selectedTab:mt,onTabChange:xo,canUpdatePublicAsset:kt(),fileId:We.id,currentVersionId:We.currentVersionId,workspaceId:We.project.workspaceId,animation:We,basicMetadata:Qe,fileMetaData:Ze,source:"animation",initialTheme:null===(Ge=We.fileObject.themes)||void 0===Ge?void 0:Ge.find((e=>e.id===Gn))})]})}),(0,a.jsx)("div",{ref:Vt})]}),tn&&Je&&en&&(0,a.jsx)(me,{currentFile:en,currentFileId:null==We?void 0:We.id,projectId:null==We||null===(Ue=We.project)||void 0===Ue?void 0:Ue.id,lottieAnimation:m()(Je),closeCallback:()=>{on(!1)},animationName:null==We?void 0:We.name,currentBackgroundColor:(null==We?void 0:We.backgroundColor)||"none",show:!0}),xn&&(0,a.jsx)(_.Z,{buttonTitle:"Discard changes",body:"You’ve made changes to segments that you haven’t saved yet. If you leave now, they’ll be discarded.",cancelTitle:"Stay on page",closeCallback:bo,isDestructive:!1,onConfirm:fo,showModal:xn,title:"Discard changes to segments?"}),Mn&&(0,a.jsx)(_.Z,{title:"Confirm copy frame to clipboard?",body:"Your browser, Safari, needs confirmation to copy this frame to the clipboard.",buttonTitle:"Confirm",onConfirm:vo,closeCallback:mo,isDestructive:!1,showModal:Mn})]}),We&&nt&&!Dt.fetching&&Dt.data&&(0,a.jsx)(pe,{animation:We,handback:Dt.data.fileHandback})]}),(0,a.jsx)("div",{ref:Sn,className:"hidden"})]})};Oe.getLayout=e=>(0,a.jsx)(k.By,{showTopNav:!1,showSidebar:!1,compactSidebar:!0,children:(0,a.jsx)(fe.Q,{children:e})});var Ie=Oe},16239:function(e,n,t){t.d(n,{Q:function(){return i}});var o=t(97458),r=t(52983),a=t(14586);const i=e=>{let{children:n}=e;const[t,i]=(0,r.useState)(0),[l,s]=(0,r.useState)(0),c=(0,r.useCallback)((e=>{Math.floor(e)!==t&&i(e)}),[t]);return(0,o.jsx)(a.K.Provider,{value:{currentFrame:t,setCurrentFrame:c,totalFrames:l,setTotalFrames:s},children:n})}},81040:function(e,n,t){var o,r;t.d(n,{f:function(){return o},p:function(){return r}}),function(e){e.COLLECTION="COLLECTION",e.FILE="FILE"}(o||(o={})),function(e){e.COMMENT="comment",e.DOWNLOAD_AND_VIEW="downloadAndView",e.EDIT_ACCESS="editAccess",e.NO_ACCESS="noAccess",e.VIEW_ONLY="viewOnly"}(r||(r={}))},26643:function(e,n,t){t.d(n,{O6:function(){return r},TI:function(){return i},jn:function(){return a}});const o=async e=>new Promise((n=>setTimeout(n,e))),r=e=>{if(e.hasAttributeNS("http://www.w3.org/1999/xlink","href")){const n=e.getAttributeNS("http://www.w3.org/1999/xlink","href");n&&n.startsWith("data:image/png;")&&e.setAttributeNS("http://www.w3.org/1999/xlink","href",n.replace("data:image/png;","data:;"))}},a=e=>{const n=e.childNodes;for(let t=0;t<n.length;t+=1){const o=n[t];o instanceof SVGElement&&"none"===o.style.display&&e.removeChild(o)}},i=async(e,n)=>{if(!n)return[];const t=n.firstChild;e.pause(),e.goToAndStop(0,!0);const i=[];for(let n=0;n<e.totalFrames;n+=1){e.goToAndStop(n,!0);const l=t.cloneNode(!0);a(l);const s=l.getElementsByTagName("image");for(let e=0;e<s.length;e+=1){const n=s[e];n&&r(n)}const c=(new XMLSerializer).serializeToString(l);i.push(c),await o(10)}return i}},46989:function(e,n,t){t.d(n,{w:function(){return i}});var o=t(40707),r=t(6253);const a={"Access denied!":e=>{var n,t,r,a;const i=null!==(a=null==e||null===(n=e.extensions)||void 0===n?void 0:n.code)&&void 0!==a?a:"";var l;const s=null!==(l=null==e||null===(r=e.extensions)||void 0===r||null===(t=r.exception)||void 0===t?void 0:t.stacktrace)&&void 0!==l?l:[];throw console.log("Error code:",i),console.log("Stacktrace:",s),new o.J},"Database query failed":e=>{var n,t,r,a;const i=null!==(a=null==e||null===(n=e.extensions)||void 0===n?void 0:n.code)&&void 0!==a?a:"";var l;const s=null!==(l=null==e||null===(r=e.extensions)||void 0===r||null===(t=r.exception)||void 0===t?void 0:t.stacktrace)&&void 0!==l?l:[];throw console.log("Error code:",i),console.log("Stacktrace:",s),new o.J},"File not found":e=>{var n,t,o,a;const i=null!==(a=null==e||null===(n=e.extensions)||void 0===n?void 0:n.code)&&void 0!==a?a:"";var l;const s=null!==(l=null==e||null===(o=e.extensions)||void 0===o||null===(t=o.exception)||void 0===t?void 0:t.stacktrace)&&void 0!==l?l:[];throw console.log("Error code:",i),console.log("Stacktrace:",s),new r.T},Forbidden:e=>{var n,t,r,a;const i=null!==(a=null==e||null===(n=e.extensions)||void 0===n?void 0:n.code)&&void 0!==a?a:"";var l;const s=null!==(l=null==e||null===(r=e.extensions)||void 0===r||null===(t=r.exception)||void 0===t?void 0:t.stacktrace)&&void 0!==l?l:[];throw console.log("Error code:",i),console.log("Stacktrace:",s),new o.J}};function i(e){e.networkError?console.error("Network error:",e.networkError):e.graphQLErrors&&e.graphQLErrors.length>0?e.graphQLErrors.forEach((e=>{const n=e.message,t=Object.keys(a).find((e=>n.includes(e)));var o;t?null===(o=a[t])||void 0===o||o.call(a,e):console.error("GraphQL error:",e)})):console.error("Unknown error:",e)}},75296:function(e,n,t){t.d(n,{I:function(){return f},r:function(){return u}});var o=t(52983),r={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},a=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],i=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],l=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],s="undefined"!=typeof window&&void 0!==window.document?window.document:{},c="fullscreenEnabled"in s&&Object.keys(r)||a[0]in s&&a||i[0]in s&&i||l[0]in s&&l||[],d={requestFullscreen:function(e){return e[c[r.requestFullscreen]]()},requestFullscreenFunction:function(e){return e[c[r.requestFullscreen]]},get exitFullscreen(){return s[c[r.exitFullscreen]].bind(s)},get fullscreenPseudoClass(){return":"+c[r.fullscreen]},addEventListener:function(e,n,t){return s.addEventListener(c[r[e]],n,t)},removeEventListener:function(e,n,t){return s.removeEventListener(c[r[e]],n,t)},get fullscreenEnabled(){return Boolean(s[c[r.fullscreenEnabled]])},set fullscreenEnabled(e){},get fullscreenElement(){return s[c[r.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return s[("on"+c[r.fullscreenchange]).toLowerCase()]},set onfullscreenchange(e){return s[("on"+c[r.fullscreenchange]).toLowerCase()]=e},get onfullscreenerror(){return s[("on"+c[r.fullscreenerror]).toLowerCase()]},set onfullscreenerror(e){return s[("on"+c[r.fullscreenerror]).toLowerCase()]=e}};function u(){var e=(0,o.useState)(!1),n=e[0],t=e[1],r=(0,o.useRef)(null);(0,o.useEffect)((function(){var e=function(){t(d.fullscreenElement===r.current)};return d.addEventListener("fullscreenchange",e),function(){return d.removeEventListener("fullscreenchange",e)}}),[]);var a=(0,o.useCallback)((function(){return d.fullscreenElement?d.exitFullscreen().then((function(){return d.requestFullscreen(r.current)})):r.current?d.requestFullscreen(r.current):void 0}),[]),i=(0,o.useCallback)((function(){return d.fullscreenElement===r.current?d.exitFullscreen():Promise.resolve()}),[]);return(0,o.useMemo)((function(){return{active:n,enter:a,exit:i,node:r}}),[n,a,i])}var f=function(e){var n=e.handle,t=e.onChange,r=e.children,a=e.className,i=[];return a&&i.push(a),i.push("fullscreen"),n.active&&i.push("fullscreen-enabled"),(0,o.useEffect)((function(){t&&t(n.active,n)}),[n.active]),o.createElement("div",{className:i.join(" "),ref:n.node,style:n.active?{height:"100%",width:"100%"}:void 0},r)}},11787:function(e,n,t){t.d(n,{Uv:function(){return D},VY:function(){return q},Z0:function(){return V},ZA:function(){return G},ck:function(){return U},fC:function(){return F},xz:function(){return L}});var o=t(52983),r=t(74810),a=t(63634),i=t(11758),l=t(53229),s=t(4105),c=t(9371),d=t(97458),u="ContextMenu",[f,p]=(0,a.b)(u,[l.Wf]),m=(0,l.Wf)(),[v,h]=f(u),x=e=>{const{__scopeContextMenu:n,children:t,onOpenChange:r,dir:a,modal:i=!0}=e,[c,u]=o.useState(!1),f=m(n),p=(0,s.W)(r),h=o.useCallback((e=>{u(e),p(e)}),[p]);return(0,d.jsx)(v,{scope:n,open:c,onOpenChange:h,modal:i,children:(0,d.jsx)(l.fC,{...f,dir:a,open:c,onOpenChange:h,modal:i,children:t})})};x.displayName=u;var C="ContextMenuTrigger",b=o.forwardRef(((e,n)=>{const{__scopeContextMenu:t,disabled:a=!1,...s}=e,c=h(C,t),u=m(t),f=o.useRef({x:0,y:0}),p=o.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...f.current})}),v=o.useRef(0),x=o.useCallback((()=>window.clearTimeout(v.current)),[]),b=e=>{f.current={x:e.clientX,y:e.clientY},c.onOpenChange(!0)};return o.useEffect((()=>x),[x]),o.useEffect((()=>{a&&x()}),[a,x]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.ee,{...u,virtualRef:p}),(0,d.jsx)(i.WV.span,{"data-state":c.open?"open":"closed","data-disabled":a?"":void 0,...s,ref:n,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:a?e.onContextMenu:(0,r.M)(e.onContextMenu,(e=>{x(),b(e),e.preventDefault()})),onPointerDown:a?e.onPointerDown:(0,r.M)(e.onPointerDown,P((e=>{x(),v.current=window.setTimeout((()=>b(e)),700)}))),onPointerMove:a?e.onPointerMove:(0,r.M)(e.onPointerMove,P(x)),onPointerCancel:a?e.onPointerCancel:(0,r.M)(e.onPointerCancel,P(x)),onPointerUp:a?e.onPointerUp:(0,r.M)(e.onPointerUp,P(x))})]})}));b.displayName=C;var g=e=>{const{__scopeContextMenu:n,...t}=e,o=m(n);return(0,d.jsx)(l.h_,{...o,...t})};g.displayName="ContextMenuPortal";var w="ContextMenuContent",y=o.forwardRef(((e,n)=>{const{__scopeContextMenu:t,...r}=e,a=h(w,t),i=m(t),s=o.useRef(!1);return(0,d.jsx)(l.VY,{...i,...r,ref:n,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:n=>{e.onCloseAutoFocus?.(n),!n.defaultPrevented&&s.current&&n.preventDefault(),s.current=!1},onInteractOutside:n=>{e.onInteractOutside?.(n),n.defaultPrevented||a.modal||(s.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})}));y.displayName=w;var E=o.forwardRef(((e,n)=>{const{__scopeContextMenu:t,...o}=e,r=m(t);return(0,d.jsx)(l.ZA,{...r,...o,ref:n})}));E.displayName="ContextMenuGroup";var k=o.forwardRef(((e,n)=>{const{__scopeContextMenu:t,...o}=e,r=m(t);return(0,d.jsx)(l.__,{...r,...o,ref:n})}));k.displayName="ContextMenuLabel";var S=o.forwardRef(((e,n)=>{const{__scopeContextMenu:t,...o}=e,r=m(t);return(0,d.jsx)(l.ck,{...r,...o,ref:n})}));S.displayName="ContextMenuItem";var j=o.forwardRef(((e,n)=>{const{__scopeContextMenu:t,...o}=e,r=m(t);return(0,d.jsx)(l.oC,{...r,...o,ref:n})}));j.displayName="ContextMenuCheckboxItem";var M=o.forwardRef(((e,n)=>{const{__scopeContextMenu:t,...o}=e,r=m(t);return(0,d.jsx)(l.Ee,{...r,...o,ref:n})}));M.displayName="ContextMenuRadioGroup";var N=o.forwardRef(((e,n)=>{const{__scopeContextMenu:t,...o}=e,r=m(t);return(0,d.jsx)(l.Rk,{...r,...o,ref:n})}));N.displayName="ContextMenuRadioItem";var O=o.forwardRef(((e,n)=>{const{__scopeContextMenu:t,...o}=e,r=m(t);return(0,d.jsx)(l.wU,{...r,...o,ref:n})}));O.displayName="ContextMenuItemIndicator";var I=o.forwardRef(((e,n)=>{const{__scopeContextMenu:t,...o}=e,r=m(t);return(0,d.jsx)(l.Z0,{...r,...o,ref:n})}));I.displayName="ContextMenuSeparator";var T=o.forwardRef(((e,n)=>{const{__scopeContextMenu:t,...o}=e,r=m(t);return(0,d.jsx)(l.Eh,{...r,...o,ref:n})}));T.displayName="ContextMenuArrow";var _=e=>{const{__scopeContextMenu:n,children:t,onOpenChange:o,open:r,defaultOpen:a}=e,i=m(n),[s,u]=(0,c.T)({prop:r,defaultProp:a,onChange:o});return(0,d.jsx)(l.Tr,{...i,open:s,onOpenChange:u,children:t})};_.displayName="ContextMenuSub";var R=o.forwardRef(((e,n)=>{const{__scopeContextMenu:t,...o}=e,r=m(t);return(0,d.jsx)(l.fF,{...r,...o,ref:n})}));R.displayName="ContextMenuSubTrigger";var A=o.forwardRef(((e,n)=>{const{__scopeContextMenu:t,...o}=e,r=m(t);return(0,d.jsx)(l.tu,{...r,...o,ref:n,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})}));function P(e){return n=>"mouse"!==n.pointerType?e(n):void 0}A.displayName="ContextMenuSubContent";var F=x,L=b,D=g,q=y,G=E,U=S,V=I}}]);