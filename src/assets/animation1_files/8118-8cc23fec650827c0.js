"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8118],{80314:function(e,l,n){n.r(l),n.d(l,{GridView:function(){return F},default:function(){return U}});var o=n(97458),t=n(52983),i=n(75800),s=n(96734),a=n(34723),r=n(37210),c=n(83849),d=n.n(c),u=n(13074),h=n(26310),m=n(60892),f=n(57265);const v=(0,r.zo)("button",{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:32,fontSize:14,fontWeight:700,padding:"4px 12px",borderRadius:8,backgroundColor:"#00C1A2",border:"none",color:"#FFF",cursor:"pointer",transition:"all 0.3s ease-in-out","&:hover":{backgroundColor:"#00C1A2"},"&:focus":{outline:"none"},"&:active":{backgroundColor:"#00C1A2"}}),p=e=>{let{workspaceId:l}=e;const n=(0,s.SS)(a.AD.FILE_UPLOAD_LIMIT),{onClick:i}=(0,m.Z)({workspaceId:l}),{planName:r}=(0,f.g)(l),[c,u]=(0,t.useState)(!1),h=(0,t.useCallback)((()=>{u(!0)}),[]),p=(0,t.useCallback)((()=>{u(!1)}),[]);return(0,o.jsx)("div",{onMouseEnter:h,onMouseLeave:p,className:d()({"absolute top-0 bottom-0 left-0 right-0 w-full h-full z-10 rounded-md":!0}),children:c&&(0,o.jsxs)("div",{className:"flex flex-col items-center h-full p-5 space-y-5 bg-white border rounded-md border-gray-50 bg-opacity-90",children:[(0,o.jsxs)("div",{className:"text-sm text-gray-700 line-clamp-5",children:["You can only access your ",n.value," most recently created files on your current ",r,". Upgrade to access all your files."]}),(0,o.jsx)(v,{onClick:i,children:"Upgrade"})]})})},C=e=>{let{animation:l,disableMenu:n,isSelected:t,onClick:i,onSelectionChange:s,selectable:a,selectionMode:r,showAddToCollection:c,showStatus:d=!0,showUpdatedUser:m,workspaceId:f}=e;var v,C,b,g,w,x,k;const j=(0,h.Q)(f);return(0,o.jsxs)("div",{className:"relative rounded-md",children:[j.length>0&&!j.includes(l.id)&&(0,o.jsx)(p,{workspaceId:l.project.workspaceId}),(0,o.jsx)(u.K,{scopes:l.animationPermissionScopes,animation:l,backgroundColor:l.backgroundColor,thumbnail:null===(g=l.fileObject)||void 0===g||null===(b=g.thumbnails)||void 0===b||null===(C=b.webp)||void 0===C||null===(v=C.medium)||void 0===v?void 0:v.url,title:l.name,url:null===(w=l.fileObject)||void 0===w?void 0:w.url,showUpdatedUser:m,username:l.modifiedBy?l.modifiedBy.name:null===(x=l.createdBy)||void 0===x?void 0:x.name,project:null===(k=l.project)||void 0===k?void 0:k.title,date:l.updatedAt,selectable:a,selected:t,onSelectionChange:s,selectionMode:r,showStatus:d,status:l.status,onClick:i,disableMenu:n,showAddToCollection:c,upgradeRequired:j.length>0&&!j.includes(l.id)})]})};var b=n(34038),g=n.n(b),w=n(78592),x=n(60877),k=n(16153),j=n(33553),y=n(31662),M=n(65026),S=n(49146);const N=g()((async()=>Promise.all([n.e(7255),n.e(2885),n.e(9117),n.e(2064),n.e(5599),n.e(7550),n.e(6337),n.e(3281),n.e(6323),n.e(8708),n.e(8412)]).then(n.bind(n,18228))),{loadableGenerated:{webpack:()=>[18228]},ssr:!1}),Z=e=>{let{disableMenu:l=!1,file:n,isSelected:i=!1,onClick:s,onSelectionChange:a,selectable:r=!1,selectionMode:c=!1}=e;var u,h,m,f,v,p,C,b,g,Z,A;const[I,L]=(0,t.useState)(!1),[B,D]=(0,t.useState)(!1),{canFullAccess:F}=(0,y.a)({scopes:n.animationPermissionScopes||[]}),U=(0,t.useCallback)((()=>{D(!1)}),[]),_=(0,t.useCallback)((()=>{a&&a()}),[a]),E=(0,t.useCallback)((()=>{L(!0)}),[L]),T=(0,t.useCallback)((()=>{L(!1)}),[L]),K=(0,t.useCallback)((()=>{F()&&D(!0)}),[F]),V=(0,t.useCallback)((e=>{if(c&&a)a();else if(s){const l=S.Mq?e.metaKey:e.ctrlKey;s(l)}}),[a,s,c]),q=(0,t.useCallback)((e=>{if("Space"===e.key)if(c&&a)a();else if(s){const l=S.Mq?e.metaKey:e.ctrlKey;s(l)}}),[s,a,c]),z=(0,M.h)(V,K);return(0,o.jsxs)("div",{className:"relative z-0 group w-full aspect-square",onMouseEnter:E,onMouseLeave:T,children:[(0,o.jsx)("svg",{className:d()("absolute inset-0 w-full h-full",{"creator-drop-shadow":I}),xmlns:"http://www.w3.org/2000/svg",width:"210",height:"210",viewBox:"0 0 210 210",fill:"none",children:(0,o.jsx)("path",{fill:"white",id:"Vector_2",d:"M190.984 18.3777C173.641 1.0344 173.944 0.522461 172.377 0.522461H6.79014C3.33193 0.522461 0.521484 3.33291 0.521484 6.79112V203.209C0.521484 206.667 3.33193 209.478 6.79014 209.478H203.208C206.666 209.478 209.477 206.667 209.477 203.209V37.6225C209.477 35.721 208.662 36.0553 190.995 18.3881",stroke:"rgba(217, 224, 230, 1)"})}),(0,o.jsxs)("div",{className:"absolute inset-0 h-full w-full",children:[(0,o.jsxs)("div",{className:"w-full h-[calc(100%-3.5rem)] relative z-0 p-2",children:[(0,o.jsx)("div",{onKeyDown:q,onClick:V,className:"absolute inset-0 z-10 cursor-pointer"}),(0,o.jsx)("div",{className:"h-full p-4 -mx-2 border-b border-gray-50",children:(0,o.jsx)("div",{className:"h-full mx-auto transparency-grid-square",children:(0,o.jsx)(x.y,{src:(null===(f=n.fileObject)||void 0===f||null===(m=f.thumbnails)||void 0===m||null===(h=m.webp)||void 0===h||null===(u=h.medium)||void 0===u?void 0:u.url)||(null===(b=n.fileObject)||void 0===b||null===(C=b.thumbnails)||void 0===C||null===(p=C.png)||void 0===p||null===(v=p.medium)||void 0===v?void 0:v.url)})})})]}),(0,o.jsx)(N,{showActionsMenu:I,animation:n,isMenuDisabled:l,onTitleClick:z,showFilledIcon:I,projectName:null===(g=n.project)||void 0===g?void 0:g.title,showAddToCollection:!1,title:n.name,updatedDate:n.updatedAt,showUpdatedUser:!0,username:n.modifiedBy?"".concat(null===(Z=n.modifiedBy)||void 0===Z?void 0:Z.firstName):"".concat(null===(A=n.createdBy)||void 0===A?void 0:A.firstName)})]}),(0,o.jsxs)("svg",{className:d()("absolute inset-0 w-full h-full pointer-events-none",{"text-actionPrimary":i,"text-gray-100":!i}),xmlns:"http://www.w3.org/2000/svg",width:"210",height:"210",viewBox:"0 0 210 210",fill:"none",children:[(0,o.jsxs)("g",{"clip-path":"url(#clip0_5690_42434)",children:[(0,o.jsx)("path",{d:"M173.182 1.03418L173.213 24.1133C173.213 30.9043 178.719 36.4103 185.51 36.4103H208.84",fill:"white"}),(0,o.jsx)("path",{d:"M173.182 1.03418L173.213 24.1133C173.213 30.9043 178.719 36.4103 185.51 36.4103H208.84",stroke:"rgba(217, 224, 230, 1)"}),i?(0,o.jsx)("path",{d:"M190.5 19.5C190.5 19.5 174.067 2 172.5 2L6.99945 1.5C1.50057 1.5 1.50002 1.5 1.50002 6.79112L1.5 201.5C1.5 208.5 1.5 208.5 7 208.5H203C208.5 208.5 208.5 208.5 208.5 203.137V39.9853C208.5 38.394 207.868 36.8679 206.743 35.7426L190.5 19.5Z",stroke:"currentColor","stroke-width":"3"}):(0,o.jsx)("path",{fill:"none",stroke:"currentColor",d:"M190.984 18.3777C173.641 1.0344 173.944 0.522461 172.377 0.522461H6.79014C3.33193 0.522461 0.521484 3.33291 0.521484 6.79112V203.209C0.521484 206.667 3.33193 209.478 6.79014 209.478H203.208C206.666 209.478 209.477 206.667 209.477 203.209V37.6225C209.477 35.721 208.662 36.0553 190.995 18.3881"})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"clip0_5690_42434",children:(0,o.jsx)("rect",{width:"210",height:"210",fill:"white"})})})]}),(0,o.jsx)("div",{className:"absolute z-20 flex justify-between w-full pr-2 top-2 right-0",children:(0,o.jsx)(k.Z,{variant:"caption-1",tag:"div",className:"ml-auto",children:(I&&r||i||c)&&F()&&(0,o.jsx)(j.X,{label:"check-card",checked:i,onChange:_})})}),(0,o.jsx)(w.default,{show:B,animationId:n.id,animationName:n.name,close:U})]})};var A=n(84952),I=n(41062),L=n(52364),B=n(8391),D=n(70705);const F=e=>{let{canLoadMore:l=!1,files:n,isLoadingMore:s=!1,onLoadMore:a=(()=>{}),onSelectionChange:r,onFolderDownloadAllClick:c,selectable:d=!1,selectedAnimations:u,selectionMode:h,showUpdatedUser:m=!0,showAddToCollection:f=!1,showStatus:v=!0,onItemClick:p,workspaceId:b}=e;const g=(0,i.useRecoilValue)(B.Y),w=(0,L.S)({onIntersecting:a}),x=(0,t.useCallback)((e=>()=>{r&&r(e.id)}),[r]),k=(0,t.useCallback)((e=>l=>p(e,l)),[p]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-6 lg:grid-cols-3 xl:grid-cols-4 xxl:grid-cols-5 2xl:grid-cols-5 3xl:grid-cols-6 4xl:grid-cols-7",children:[n.map((e=>{const l="file-card-".concat(e.id);var n,t;return(0,D.qR)(e)?(0,o.jsx)(I.A,{onClick:k(e),title:e.name,username:(null===(n=e.modifiedBy)||void 0===n?void 0:n.name)||(null===(t=e.createdBy)||void 0===t?void 0:t.name),date:e.updatedAt,folder:e,filesCount:e.filesCount,scopes:e.animationPermissionScopes,onDownloadAllClick:c,selectable:d,selectionMode:h,onSelectionChange:x(e),isSelected:!!u&&Boolean(u.some((l=>l.id===e.id)))},l):(0,D.QR)(e)?(0,o.jsx)(C,{animation:e,showUpdatedUser:m,showStatus:v,selectable:d,isSelected:!!u&&Boolean(u.some((l=>l.id===e.id))),onSelectionChange:x(e),selectionMode:h,onClick:k(e),disableMenu:g>0,showAddToCollection:f,workspaceId:b},l):(0,D.xK)(e)?(0,o.jsx)(Z,{file:e,onClick:k(e),selectable:d,onSelectionChange:x(e),isSelected:!!u&&Boolean(u.includes(e)),disableMenu:g>0,selectionMode:h}):(0,o.jsx)(o.Fragment,{})})),s&&(0,o.jsx)(A.a,{type:"spinner"})]}),l&&!s&&(0,o.jsx)("span",{ref:w})]})};var U=F},26310:function(e,l,n){n.d(l,{Q:function(){return c}});var o=n(52983),t=n(80794),i=n(49939),s=n(63005),a=n(68527),r=n(49146);const c=e=>{const l=(0,i.hp)(e),n=(0,r.fK)(l),[c]=(0,t.aM)({query:s.Z$,pause:!e||!l||!n||n!==a.Q.FREE,variables:{workspaceId:e}});return(0,o.useMemo)((()=>{var e;return n===a.Q.FREE&&(null===(e=c.data)||void 0===e?void 0:e.fileIdsWithinLimit)||[]}),[c,n])}},36907:function(e,l,n){n.d(l,{Z:function(){return i}});var o=n(63171),t=n(29679);function i(e,l){(0,t.Z)(2,arguments);var n=(0,o.Z)(e),i=(0,o.Z)(l);return n.getTime()===i.getTime()}},95325:function(e,l,n){n.d(l,{Z:function(){return s}});var o=n(79965),t=n(29679);function i(e,l){(0,t.Z)(2,arguments);var n=(0,o.Z)(e),i=(0,o.Z)(l);return n.getFullYear()===i.getFullYear()}function s(e){return(0,t.Z)(1,arguments),i(e,Date.now())}},10907:function(e,l,n){n.d(l,{Z:function(){return i}});var o=n(36907),t=n(29679);function i(e){return(0,t.Z)(1,arguments),(0,o.Z)(e,Date.now())}},52294:function(e,l,n){n.d(l,{Z:function(){return s}});var o=n(36907),t=n(53285),i=n(29679);function s(e){return(0,i.Z)(1,arguments),(0,o.Z)(e,(0,t.Z)(Date.now(),1))}},53285:function(e,l,n){n.d(l,{Z:function(){return a}});var o=n(72189),t=n(79965),i=n(29679);function s(e,l){(0,i.Z)(2,arguments);var n=(0,t.Z)(e),s=(0,o.Z)(l);return isNaN(s)?new Date(NaN):s?(n.setDate(n.getDate()+s),n):n}function a(e,l){(0,i.Z)(2,arguments);var n=(0,o.Z)(l);return s(e,-n)}}}]);